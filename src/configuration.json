{
    "features": [
        {
            "id": "mcu",
            "description":"ESP Board  using ESP3D firmware",
            "label":"Board description",
            "setting":false,
            "type":"group",
            "value":[
                {
                    "id":"targetmcu",
                    "define":"ESP_MCU",
                    "description":"MCU",
                    "label":"MCU",
                    "type":"select",
                    "value":"esp32",
                    "setting":false,
                    "options": [
                        {
                            "label": "ESP8266",
                            "value": "esp8266"
                        },
                        {
                            "label": "ESP32",
                            "value": "esp32"
                        },
                        {
                            "label": "ESP32-S2",
                            "value": "esp32s2"
                        },
                        {
                            "label": "ESP32-S3",
                            "value": "esp32s3"
                        },
                        {
                            "label": "ESP32-C3",
                            "value": "esp32c3"
                        }
                    ]
                },
                {
                    "id":"targetmcu",
                    "define":"FLASH_SIZE",
                    "description":"ESP flash size",
                    "label":"ESP flash size",
                    "type":"select",
                    "value":"4",
                    "setting":false,
                    "options": [
                        {
                            "label": "1MB",
                            "value": "1",
                            "help":"No OTA/ Web update possible"
                        },
                        {
                            "label": "2MB",
                            "value": "2",
                            "help":"No OTA/ Web update possible"
                        },
                        {
                            "label": "4MB",
                            "value": "4"
                        },
                        {
                            "label": "8MB",
                            "value": "8"
                        },
                        {
                            "label": "16MB",
                            "value": "16"
                        }
                    ]
                }
            ]
        },
        {
            "id": "communication",
            "description":"Settings and protocols",
            "label":"Serial Communications",
            "setting":true,
            "type":"group",
            "value":[
                {
                    "id":"serialprotocol",
                    "define":"COMMUNICATION_PROTOCOL",
                    "description":"Communication protocol used by ESP3D to discuss with printer or TFT",
                    "label":"Serial Communication protocol",
                    "type":"select",
                    "value":"RAW_SERIAL",
                    "setting":true,
                    "options": [
                        {
                            "label": "Raw serial",
                            "value": "RAW_SERIAL",
                            "help":"Basic serial protocol, without data change"
                        },
                        {
                            "label": "MKS serial",
                            "value": "MKS_SERIAL",
                            "help":"This is a MakerBase communication protocol, used with MKS printers and TFT, it encapsulated data in a custom protocol"
                        }
                       
                    ]
                },
                {
                    "id":"serialport",
                    "define":"ESP_SERIAL_OUTPUT",
                    "description":"Which serial port ESP3D use to communicate with printer or TFT",
                    "label":"Serial port",
                    "type":"select",
                    "value":"USE_SERIAL_0",
                    "setting":true,
                    "options": [
                        {
                            "label": "0",
                            "value": "USE_SERIAL_0",
                            "help":"Also used by bootloader output, so consider to make it quiet" 
                        },
                        {
                            "label": "1",
                            "value": "USE_SERIAL_1",
                            "depend":{"id":"targetmcu","value":["esp32","esp32s2","esp32s3","esp32c3"]}
                        },
                        {
                            "label": "2",
                            "value": "USE_SERIAL_2",
                            "depend":{"id":"targetmcu","value":["esp32","esp32s3"]}
                        }
                    ]
                },
                {
                    "id":"serialbuffer",
                    "define":"SERIAL_RX_BUFFER_SIZE",
                    "description":"Maximum size of the serial buffer",
                    "label":"Serial buffer size",
                    "type":"select",
                    "value":"512",
                    "setting":true,
                    "usedescforoptions":true,
                     "options": [
                        {
                            "label": "0 Byte",
                            "value": "0"
                        },
                        {
                            "label": "128 Bytes",
                            "value": "128"
                        },
                        {
                            "label": "256 Bytes",
                            "value": "256"
                        },
                        {
                            "label": "512 Bytes",
                            "value": "512"
                        },
                        {
                            "label": "1024 Bytes",
                            "value": "1024"
                        }
                    ]
                }
            ]
        },
        {
            "id": "targetFW",
            "description":"Targeted firmware that ESP3D will communicate with",
            "label":"Target firmware",
            "setting":true,
            "type":"group",
            "value":[
                {
                    "id":"systemtype",
                    "define":"SYSTEM_TYPE",
                    "description":"The type of your system",
                    "label":"System type",
                    "type":"select",
                    "value":"Printer3D",
                    "setting":false,
                    "options": [
                        {
                            "label": "CNC",
                            "value": "CNC",
                            "help":"CNC system used for milling/laser engraving/cutting"
                        },
                        {
                            "label": "3D printer",
                            "value": "Printer3D",
                            "help":"3D printer system used with filaments"
                        },
                        {
                            "label": "Sand Table",
                            "value": "SandTable",
                            "help":"System doing kinetic art, zen garden, sand table, etc."
                        }
                       
                    ]
                },
                {
                    "id":"defaultfw",
                    "define":"DEFAULT_FW",
                    "description":"The firmware that ESP3D will use by default",
                    "label":"Target firmware",
                    "type":"select",
                    "value":"UNKNOWN_FW",
                    "setting":true,
                    "options": [
                        {
                            "label": "Undefined",
                            "value": "UNKNOWN_FW",
                            "help":"Undefined firmware"
                        },
                        {
                            "label": "Marlin",
                            "value": "MARLIN",
                            "help":"Marlin 2.x firmware",
                            "depend":{"id":"systemtype","value":["Printer3D"]}
                        },
                        {
                            "label": "Repetier",
                            "value": "REPETIER",
                            "help":"Repetier 1.x/2.x firmware",
                            "depend":{"id":"systemtype","value":["Printer3D"]}
                        },
                        {
                            "label": "Smoothieware",
                            "value": "SMOOTHIEWARE",
                            "help":"Smoothieware 1.x/2.x firmware",
                            "depend":{"id":"systemtype","value":["Printer3D"]}
                        },
                        {
                            "label": "Grbl",
                            "value": "GRBL",
                            "help":"Grbl 1.1 firmware",
                            "depend":{"id":"systemtype","value":["CNC","SandTable"]}
                        }
                       
                    ]
                }
            ]
        }
    ], "network": [
        {
            "id": "radiomode",
            "description":"The radio mode ESP3D communicate with the network",
            "label":"Radio mode of ESP3D",
            "setting":true,
            "type":"group",
            "value":[
                {
                "id":"wifi",
                "define":"WIFI_FEATURE",
                "label":"Use WiFi ",
                "description":"Enable wifi communications",
                "type":"boolean",
                "value":true,
                "setting":true
                },
                {
                "id":"ethernet",
                "define":"ETH_FEATURE",
                "label":"Use Ethernet ",
                "description":"Enable ethernet communications",
                "type":"boolean",
                "value":false,
                "setting":true,
                "depend":{"id":"targetmcu","value":["esp32","esp32s2","esp32s3","esp32c3"]}
                }
                ,
                {
                "id":"bluetooth",
                "define":"BLUETOOTH_FEATURE",
                "label":"Use Bluetooth ",
                "description":"Enable serial bluetooth communications",
                "type":"boolean",
                "value":false,
                "setting":true,
                "depend":{"id":"targetmcu","value":["esp32","esp32s2","esp32s3","esp32c3"]}
                }
            ]
        },
        {
            "id": "channels",
            "description":"The way ESP3D communicate",
            "label":"Channels of ESP3D",
            "setting":true,
            "type":"group",
            "value":[
                {
                "id":"http",
                "define":"HTTP_FEATURE",
                "label":"Use webserver",
                "description":"Enable http server",
                "type":"boolean",
                "value":true,
                "setting":true
                },
                {
                "id":"telnet",
                "define":"TELNET_FEATURE",
                "label":"Use telnet server",
                "description":"Enable telnet light (raw tcp) communications",
                "type":"boolean",
                "value":true,
                "setting":true
                }
                ,
                {
                "id":"websocket",
                "define":"WS_DATA_FEATURE",
                "label":"Use Websocket server",
                "description":"Enable websocket communications",
                "type":"boolean",
                "value":false,
                "setting":true
                }
            ]
        },
        {
            "id": "discovery",
            "description":"The discovery methods of ESP3D",
            "label":"Discovery methods of ESP3D",
            "setting":true,
            "type":"group",
            "value":[
                {
                "id":"captive",
                "define":"CAPTIVE_PORTAL_FEATURE",
                "label":"Use captive portal ",
                "description":"Enable captive portal in AP mode",
                "type":"boolean",
                "value":true,
                "setting":true
                },
                {
                "id":"mdns",
                "define":"MDNS_FEATURE",
                "label":"Use mDNS discovery",
                "description":"This method need `bonjour` protocol on windows, or `avahi` on linux",
                "type":"boolean",
                "value":true,
                "setting":true
                }
                ,
                {
                "id":"ssdp",
                "define":"SSDP_FEATURE",
                "label":"Use Simple Service Discovery Protocol",
                "description":"It is supported on Windows out of the box",
                "type":"boolean",
                "value":true,
                "setting":true
                }
            ]
        }
    ],
    "filesystems": [
        {
            "id": "flash",
            "description":"Filesystem on flash",
            "label":"Flash filesystem",
            "setting":true,
            "type":"group",
            "value":[
                {
                "id":"flashFS",
                "define":"FILESYSTEM_FEATURE",
                "label":"File system type",
                "description":"Type of file system used by ESP3D to store files",
                "type":"select",
                "value":"ESP_LITTLEFS_FILESYSTEM",
                "setting":true,
                "usedescforoptions":true,
                "options": [
                    {
                        "label": "LittleFS",
                        "value": "ESP_LITTLEFS_FILESYSTEM"
                    },
                    {
                        "label": "FatFS",
                        "value": "ESP_FAT_FILESYSTEM",
                        "help":"Only on ESP32 with large flash",
                        "depend":{"id":"targetmcu","value":["esp32","esp32s2","esp32s3","esp32c3"]}
                    }
                ]   
                }
            ]
        },
        {
            "id": "sd",
            "description":"Filesystem on SD card",
            "label":"SD filesystem",
            "setting":true,
            "type":"group",
            "value":[
                {
                "id":"sdconnection",
                "define":"SD_DEVICE_CONNECTION",
                "label":"SD card connection",
                "description":"Does your system has SD card and how it is connected to your ESP3D",
                "type":"select",
                "value":"-1",
                "setting":true,
                "usedescforoptions":true,
                "options": [
                    {
                        "label": "None",
                        "value": "-1",
                        "help":"Your ESP does not have SDcard but your system may have one"
                    },
                    {
                        "label": "Direct connection",
                        "value": "ESP_DIRECT_SD",
                        "help":"Only your ESP board is connected to SDCard"
                    },
                    {
                        "label": "Shared connection",
                        "value": "ESP_SHARED_SD",
                        "help":"Your system has SDCard and your ESP is connected to it using sharing solution"
                    }
                ]   
                },
                {
                    "id":"sdfs",
                    "define":"SD_DEVICE",
                    "label":"SD card library",
                    "description":"Library used by SD card driver",
                    "type":"select",
                    "value":"ESP_SDFAT2",
                    "depend":{"id":"sdconnection","value":["ESP_SHARED_SD","ESP_DIRECT_SD"]},
                    "setting":true,
                    "options": [
                        {
                            "label": "Native from core",
                            "value": "ESP_SD_NATIVE",
                            "help":"No additionnal library required"
                        },
                        {
                            "label": "SDFat",
                            "value": "ESP_SDFAT2",
                            "help":"SDFat 2 library required"
                        },
                        {
                            "label": "SDIO",
                            "value": "ESP_SDIO",
                            "help": "Used by SDMMC",
                            "depend":{"id":"targetmcu","value":["esp32","esp32s2","esp32s3","esp32c3"]}
                        }
                    ]   
                },
                {
                    "id":"sdio",
                    "define":"SD_ONE_BIT_MODE",
                    "label":"Sdio 1 bit mode",
                    "description":"Mode used by SDIO library",
                    "type":"boolean",
                    "value":true,
                    "depend":{"id":"sdfs","value":["ESP_SDIO"]},
                    "setting":true  
                }
                
            ]
        },
        {
            "id": "sdpins",
            "description":"SD card pins",
            "label":"SD card pins",
            "setting":true,
            "type":"group",
            "depend":{"id":"sdconnection","value":["ESP_SHARED_SD","ESP_DIRECT_SD"]},
            "value":[
                {
                    "id":"detectsdpin",
                    "define":"ESP_DETECT_PIN",
                    "label":"SD card detect pin",
                    "description":"The pin used to detect SD card",
                    "type":"select",
                    "ispin":true,
                    "value":"-1",
                    "depend":{"id":"sdconnection","value":["ESP_SHARED_SD","ESP_DIRECT_SD"]},
                    "setting":true,
                    "usedescforoptions":true
                },
                {
                    "id":"sddetectvalue",
                    "define":"ESP_SD_DETECT_VALUE",
                    "label":"Pin value",
                    "description":"State of SD card detect pin when card is present",
                    "type":"select",
                    "value":"0",
                    "depend":{"id":"detectsdpin","notvalue":["-1"]},
                    "setting":true,
                    "usedescforoptions":true,
                    "options": [
                        {
                            "label": "High",
                            "value": "1"
                        },
                        {
                            "label": "Low",
                            "value": "0"
                        }
                    ]   
                },
                {
                    "id":"shareflagsdpin",
                    "define":"ESP_FLAG_SHARED_SD_PIN",
                    "label":"SD shared flag pin",
                    "description":"The pin used to enable SD card for ESP board",
                    "type":"select",
                    "ispin":true,
                    "value":"-1",
                    "depend":{"id":"sdconnection","value":["ESP_SHARED_SD"]},
                    "setting":true,
                    "usedescforoptions":true
                },
                {
                    "id":"shareflagsdvalue",
                    "define":"ESP_FLAG_SHARED_SD_VALUE",
                    "label":"Pin value",
                    "description":"State of SD card share pin for ESP board",
                    "type":"select",
                    "value":"0",
                    "depend":{"id":"shareflagsdpin","notvalue":["-1"]},
                    "setting":true,
                    "usedescforoptions":true,
                    "options": [
                        {
                            "label": "High",
                            "value": "1"
                        },
                        {
                            "label": "Low",
                            "value": "0"
                        }
                    ]   
                },
                {
                    "id":"sdcspin",
                    "define":"ESP_SD_CS_PIN",
                    "label":"SD card CS pin",
                    "description":"The pin used to select SD card in SPI mode",
                    "type":"select",
                    "ispin":true,
                    "value":"-1",
                    "depend":{"id":"sdfs","notvalue":["ESP_SDIO"]},
                    "setting":true,
                    "usedescforoptions":true
                }
            ]
        }
    ],
   
    "update": [],
    "devices": [],
    "security": [],
    "others":[],
    "default": [
        {
            "id": "default",
            "description":"Do not edit them",
            "label":"Default settings for ESP3D",
            "setting":true,
            "type":"group",
            "value":[
                {
                    "id":"gcodehost",
                    "define":"GCODE_HOST_FEATURE",
                    "label":"Gcode Host Feature",
                    "description":"This feature allows to process Gcode files like macros.",
                    "type":"boolean",
                    "value":true,
                    "setting":true
                },
                {
                    "id":"settings",
                    "define":"ESP_SAVE_SETTINGS",
                    "label":"Settings location",
                    "description":"Location where ESP3D will save settings",
                    "type":"select",
                    "value":"SETTINGS_IN_EEPROM",
                    "setting":true,
                    "usedescforoptions":true,
                    "options": [
                        {
                            "label": "EEPROM",
                            "value": "SETTINGS_IN_EEPROM"
                        },
                        {
                            "label": "NFS",
                            "value": "SETTINGS_IN_PREFERENCES"
                        }
                    ]
                }
                ,
                {
                    "id":"SSLClient1",
                    "define":"BEARSSL_MFLN_SIZE",
                    "label":"Bear SSL buffer size",
                    "description":"Using BearSSL need to decrease default size of packet to not be out of memory on ESP8266",
                    "type":"text",
                    "value":512,
                    "setting":true,
                    "depend":{"id":"targetmcu","value":[{"id":"esp8266","value":"esp8266"}]}
                }
                ,
                {
                    "id":"SSLClient2",
                    "define":"BEARSSL_MFLN_SIZE_FALLBACK",
                    "label":"Bear SSL buffer size fallback",
                    "description":"Using BearSSL need to decrease default fallback size of packet to not be out of memory on ESP8266",
                    "type":"text",
                    "value":4096,
                    "setting":true,
                    "depend":{"id":"targetmcu","value":[{"id":"esp8266","value":"esp8266"}]}
                }
                ,
                {
                    "id":"serialTask",
                    "define":"SERIAL_INDEPENDANT_TASK",
                    "label":"Add serial task",
                    "description":"ESP32 need to add a task to handle serial communication",
                    "type":"boolean",
                    "value":true,
                    "setting":true,
                    "depend":{"id":"targetmcu","value":[{"id":"esp32","value":"esp32"}]}
                }
            ]
        }

    ]
    
}

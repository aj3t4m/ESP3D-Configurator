{"version":3,"file":"main.b558af0cf9037407d967.js","mappings":"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kBAAkB,CACdE,UADc,CADT,CAAb;AAKH,WAhDL;AAiDI,oBAAU,EACN9K;AAlDR,WADJ,EAsDKyD,IAAI,IACD;AAAK,eAAK,EAAC;AAAX,WACKA,IADL,CAvDR,EA2DKqH,UAAU,CAACU,iBAAX,IACG;AAAK,eAAK,EAAC;AAAX,WAEQV,UAAU,CAACQ,WAFnB,CA5DR,EAkEI;AACI,eAAK,EAAC,aADV;AAEI,eAAK,EAAC;AAFV,UAlEJ,CADJ;AAyEH,OApKJ,CAJL,CADJ;AA6KH,KAhLD,MAgLO;AACH,aAAO,EAAC,CAAD,QAAWjS,OAAO,CAACkG,KAAnB,CAAP;AACH;AACJ,GApLD,CAHR,EAwLI,EAAC,UAAD;AAAY,YAAQ,EAAEiL,QAAtB;AAAgC,QAAI,EAAEC;AAAtC,IAxLJ,EAyLI,aAzLJ,CAHR,CADJ;AAkMH,CAhND;;;;ACrI2B;AACpB;AACP;AACA;AACA;AACA;AACA,YAAY,CAAC,wBAAwB,+LAA+L;AACpO,QAAQ,CAAC,WAAW,sEAAsE;AAC1F,QAAQ,CAAC,eAAe,iCAAiC;AACzD,QAAQ,CAAC,eAAe,wBAAwB;AAChD;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMgB,MAAM,GACR;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAtCA;AAwCA,sDAAeA,MAAf;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMtJ,MAAM,GACR;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","sources":["webpack://ESP3D-Configurator/./node_modules/preact/dist/preact.module.js","webpack://ESP3D-Configurator/./node_modules/preact/hooks/dist/hooks.module.js","webpack://ESP3D-Configurator/./src/contexts/RouterContext.js","webpack://ESP3D-Configurator/./src/components/Helpers/http.js","webpack://ESP3D-Configurator/./src/components/Helpers/time.js","webpack://ESP3D-Configurator/./src/components/Helpers/components.js","webpack://ESP3D-Configurator/./src/components/Helpers/strings.js","webpack://ESP3D-Configurator/./src/components/Helpers/arrays.js","webpack://ESP3D-Configurator/./src/components/Helpers/html.js","webpack://ESP3D-Configurator/./src/components/Helpers/filters.js","webpack://ESP3D-Configurator/./src/components/Helpers/index.js","webpack://ESP3D-Configurator/./src/contexts/UiContext.js","webpack://ESP3D-Configurator/./src/contexts/DatasContext.js","webpack://ESP3D-Configurator/./src/contexts/index.js","webpack://ESP3D-Configurator/./src/components/Controls/Button.js","webpack://ESP3D-Configurator/./src/components/Controls/ButtonImg.js","webpack://ESP3D-Configurator/./src/components/Controls/Fields/Boolean.js","webpack://ESP3D-Configurator/./src/components/Controls/Fields/FormGroup.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/eye-off.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/eye.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/chevron-down.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/help-circle.js","webpack://ESP3D-Configurator/./src/components/Translations/index.js","webpack://ESP3D-Configurator/./src/components/Modal/genericModal.js","webpack://ESP3D-Configurator/./src/components/Modal/confirmModal.js","webpack://ESP3D-Configurator/./src/components/Modal/progressModal.js","webpack://ESP3D-Configurator/./src/components/Modal/index.js","webpack://ESP3D-Configurator/./src/components/Controls/Fields/Input.js","webpack://ESP3D-Configurator/./src/components/Controls/Fields/Select.js","webpack://ESP3D-Configurator/./src/components/Controls/Fields/Label.js","webpack://ESP3D-Configurator/./src/components/Controls/Fields/index.js","webpack://ESP3D-Configurator/./src/components/Controls/Field.js","webpack://ESP3D-Configurator/./src/components/Controls/Loading.js","webpack://ESP3D-Configurator/./src/components/Controls/Modal.js","webpack://ESP3D-Configurator/./src/components/Controls/Toast.js","webpack://ESP3D-Configurator/./src/components/Controls/Progress.js","webpack://ESP3D-Configurator/./src/components/Controls/CenterLeft.js","webpack://ESP3D-Configurator/./src/components/Controls/FieldGroup.js","webpack://ESP3D-Configurator/./src/components/Controls/index.js","webpack://ESP3D-Configurator/./src/components/Toast/index.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/settings.js","webpack://ESP3D-Configurator/./src/components/Images/logo.js","webpack://ESP3D-Configurator/./src/components/Router/index.js","webpack://ESP3D-Configurator/./src/components/Navbar/index.js","webpack://ESP3D-Configurator/./src/areas/menu.js","webpack://ESP3D-Configurator/./src/components/App/version.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/github.js","webpack://ESP3D-Configurator/./src/pages/about/index.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/arrow-left.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/arrow-right.js","webpack://ESP3D-Configurator/./src/tabs/step/index.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/save.js","webpack://ESP3D-Configurator/./src/tabs/generate/header.js","webpack://ESP3D-Configurator/./src/tabs/generate/footer.js","webpack://ESP3D-Configurator/./src/tabs/generate/index.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/wifi.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/hard-drive.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/upload.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/camera.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/lock.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/tool.js","webpack://ESP3D-Configurator/./node_modules/preact-feather/dist/icons/download.js","webpack://ESP3D-Configurator/./src/components/TabBar/index.js","webpack://ESP3D-Configurator/./src/pages/config/index.js","webpack://ESP3D-Configurator/./src/areas/footer.js","webpack://ESP3D-Configurator/./src/areas/main.js","webpack://ESP3D-Configurator/./src/areas/index.js","webpack://ESP3D-Configurator/./src/components/App/index.js","webpack://ESP3D-Configurator/./src/index.js","webpack://ESP3D-Configurator/webpack/before-startup","webpack://ESP3D-Configurator/webpack/startup","webpack://ESP3D-Configurator/webpack/after-startup"],"sourcesContent":["var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P,C,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof $){if(m=u.props,g=(s=$.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in $&&$.prototype.render?u.__c=h=new $(m,x):(u.__c=h=new _(m,x),h.constructor=$,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=$.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,$.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==$.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==$.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}if(h.context=x,h.props=m,h.__v=u,h.__P=n,A=l.__r,P=0,\"prototype\"in $&&$.prototype.render)h.state=h.__s,h.__d=!1,A&&A(u),s=h.render(h.props,h.state,h.context);else do{h.__d=!1,A&&A(u),s=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++P<25);h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),C=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(C)?C:[C],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&\"foreignObject\"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o,i=0,c=[],f=n.__b,e=n.__r,a=n.diffed,v=n.__c,l=n.unmount;function m(t,r){n.__h&&n.__h(u,t,i||r),i=0;var o=u.__H||(u.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function p(n){return i=1,y(z,n)}function y(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):z(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function d(r,o){var i=m(t++,3);!n.__s&&w(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&w(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return i=5,A(function(){return{current:n}},[])}function _(n,t,u){i=6,h(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==u?u:u.concat(n))}function A(n,u){var r=m(t++,7);return w(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function F(n,t){return i=8,A(function(){return n},t)}function T(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function q(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function x(n){var r=m(t++,10),o=p();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function b(){for(var t;t=c.shift();)if(t.__P)try{t.__H.__h.forEach(j),t.__H.__h.forEach(k),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}n.__b=function(n){u=null,f&&f(n)},n.__r=function(n){e&&e(n),t=0;var o=(u=n.__c).__H;o&&(r===u?(o.__h=[],u.__h=[],o.__.forEach(function(n){n.__H&&(n.__H=void 0)})):(o.__h.forEach(j),o.__h.forEach(k),o.__h=[])),r=u},n.diffed=function(t){a&&a(t);var i=t.__c;i&&i.__H&&i.__H.__h.length&&(1!==c.push(i)&&o===n.requestAnimationFrame||((o=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),g&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);g&&(t=requestAnimationFrame(u))})(b)),u=null,r=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(j),t.__h=t.__h.filter(function(n){return!n.__||k(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),v&&v(t,u)},n.unmount=function(t){l&&l(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{j(n)}catch(n){u=n}}),u&&n.__e(u,r.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function k(n){var t=u;n.__c=n.__(),u=t}function w(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function z(n,t){return\"function\"==typeof t?t(n):t}export{p as useState,y as useReducer,d as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,A as useMemo,F as useCallback,T as useContext,q as useDebugValue,x as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","/*\r\n RouterContext.js - ESP3D WebUI context file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h, createContext } from \"preact\"\r\nimport { useContext, useState, useRef } from \"preact/hooks\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst RouterContext = createContext(\"RouterContext\")\r\nconst useRouterContext = () => useContext(RouterContext)\r\nconst RouterContextProvider = ({ children }) => {\r\n    const defaultRoute = useRef(\"/config\")\r\n    const activeTab = useRef(\"/config/features\")\r\n    const [activeRoute, setActiveRoute] = useState(defaultRoute.current)\r\n    const [routes, setRoutes] = useState({})\r\n    const store = {\r\n        activeRoute,\r\n        setActiveRoute,\r\n        routes,\r\n        setRoutes,\r\n        defaultRoute,\r\n        activeTab,\r\n    }\r\n    return (\r\n        <RouterContext.Provider value={store}>\r\n            {children}\r\n        </RouterContext.Provider>\r\n    )\r\n}\r\n\r\nexport { RouterContextProvider, useRouterContext }\r\n","/*http.js - ESP3D WebUI helpers file\r\n\r\n Copyright (c) 2021 Luc LEBOSSE. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nfunction getCookie(cname) {\r\n    let name = cname + \"=\"\r\n    let decodedCookie = decodeURIComponent(document.cookie)\r\n    let ca = decodedCookie.split(\";\")\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i]\r\n        while (c.charAt(0) == \" \") {\r\n            c = c.substring(1)\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length)\r\n        }\r\n    }\r\n    return \"\"\r\n}\r\n\r\n//generate an URL with server host and base address\r\n//args is array of argumments: [{'cmd':'[ESP800]},...]\r\nconst espHttpURL = (base = '', args = {}) => {\r\n    const url = (() => {\r\n        try { return new URL(base) }\r\n        catch (error) { return new URL(base, `http://${window.location.host}`) }\r\n    })()\r\n    Object.entries(args).forEach(([key, value]) => url.searchParams.append(key, value))\r\n    return url.toString()\r\n}\r\n\r\nfunction isLimitedEnvironment(mode) {\r\n    let sitesList = [\r\n        \"clients3.google.com\", //Android Captive Portal Detection\r\n        \"connectivitycheck.\",\r\n        //Apple iPhone, iPad with iOS 6 Captive Portal Detection\r\n        \"apple.com\",\r\n        \".akamaitechnologies.com\",\r\n        //Apple iPhone, iPad with iOS 7, 8, 9 and recent versions of OS X\r\n        \"www.appleiphonecell.com\",\r\n        \"www.itools.info\",\r\n        \"www.ibook.info\",\r\n        \"www.airport.us\",\r\n        \"www.thinkdifferent.us\",\r\n        \".akamaiedge.net\",\r\n        //Windows\r\n        \".msftncsi.com\",\r\n        \"microsoft.com\",\r\n    ]\r\n    if (mode != \"AP\") return false\r\n    for (let i = 0; i < sitesList.length; i++) {\r\n        if (document.location.host.indexOf(sitesList[i]) != -1) return true\r\n    }\r\n    return false\r\n}\r\n\r\nexport { espHttpURL, getCookie, isLimitedEnvironment }\r\n","/*\r\n time.js - ESP3D WebUI helpers file\r\n\r\n Copyright (c) 2021 Luc LEBOSSE. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nfunction getBrowserTime() {\r\n    function padNumber(num, size) {\r\n        const s = num.toString().padStart(size, \"0\")\r\n        return s\r\n    }\r\n    const d = new Date()\r\n    return `${d.getFullYear()}-${padNumber(d.getMonth() + 1, 2)}-${padNumber(\r\n        d.getDate(),\r\n        2\r\n    )}-${padNumber(d.getHours(), 2)}-${padNumber(\r\n        d.getMinutes(),\r\n        2\r\n    )}-${padNumber(d.getSeconds(), 2)}`\r\n}\r\n\r\nexport { getBrowserTime }\r\n","/*\r\n components.js - ESP3D WebUI helpers file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nconst getColClasses = ({ col, ...responsive }) => {\r\n    const responsiveClasses = Object.keys(responsive).reduce(\r\n        (acc, key, i) =>\r\n            i == 0 ? acc : `${acc} col-${key}-${responsive[key]}`,\r\n        \"\"\r\n    )\r\n    return `col-${col} ${responsiveClasses}`\r\n}\r\n\r\nconst generateUID = () => Math.random().toString(36).substr(2, 9)\r\n\r\nconst createComponent =\r\n    (is, className, classModifier = {}) =>\r\n    ({ is: Tag = is, class: c = \"\", id = \"\", ...props }) => {\r\n        const splittedArgs = Object.keys(props).reduce(\r\n            (acc, curr) => {\r\n                if (Object.keys(classModifier).includes(curr))\r\n                    return {\r\n                        classes: [...acc.classes, classModifier[curr]],\r\n                        ...acc.props,\r\n                    }\r\n                return {\r\n                    classes: [...acc.classes],\r\n                    props: { ...acc.props, [curr]: props[curr] },\r\n                }\r\n            },\r\n            { classes: [], props: {} }\r\n        )\r\n        const classNames = `${className} ${splittedArgs.classes.join(\r\n            \" \"\r\n        )} ${c}`.trim()\r\n        return <Tag class={classNames} id={id} {...splittedArgs.props} />\r\n    }\r\n\r\n/*\r\n * Ugly hack to avoid unwished tab stop to reach button not supposed to be accessed\r\n *\r\n */\r\nfunction disableNode(node, state) {\r\n    if (!node) return\r\n    let nodeList = node.children\r\n    if (nodeList) {\r\n        for (var i = 0; i < nodeList.length; i++) {\r\n            if (!nodeList[i].classList.contains(\"do-not-disable\"))\r\n                disableNode(nodeList[i], state)\r\n        }\r\n    }\r\n    if (state) node.setAttribute(\"disabled\", \"true\")\r\n    else node.removeAttribute(\"disabled\")\r\n}\r\n\r\nfunction disableUI(state = true) {\r\n    disableNode(document.getElementById(\"main\"), state)\r\n    disableNode(document.getElementById(\"info\"), state)\r\n    disableNode(document.getElementById(\"menu\"), state)\r\n}\r\n\r\nexport { createComponent, disableNode, disableUI, generateUID, getColClasses }\r\n","/*\r\n strings.js - ESP3D WebUI helpers file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nconst capitalize = (s) =>\r\n    typeof s === \"string\" ? s.charAt(0).toUpperCase() + s.slice(1) : \"\"\r\n\r\nfunction compareStrings(a, b) {\r\n    // case-insensitive comparison\r\n    a = a.toLowerCase()\r\n    b = b.toLowerCase()\r\n    return a < b ? -1 : a > b ? 1 : 0\r\n}\r\n\r\nfunction formatFileSizeToString(size) {\r\n    if (size == -1) return size\r\n    let formatedSize = parseInt(size)\r\n    if (formatedSize === -1 || isNaN(formatedSize) || size.length == 0)\r\n        return \"\"\r\n    const units = [\"B\", \"KB\", \"MB\", \"GB\"]\r\n    let i = 0\r\n    while (formatedSize >= 1024) {\r\n        formatedSize /= 1024\r\n        ++i\r\n    }\r\n    return `${formatedSize.toFixed(2)} ${units[i]}`\r\n}\r\n\r\nconst hslToHex = (h, s, l) => {\r\n    l /= 100\r\n    const a = (s * Math.min(l, 1 - l)) / 100\r\n    const f = (n) => {\r\n        const k = (n + h / 30) % 12\r\n        const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1)\r\n        return Math.round(255 * color)\r\n            .toString(16)\r\n            .padStart(2, \"0\") // convert to Hex and prefix \"0\" if needed\r\n    }\r\n    return `#${f(0)}${f(8)}${f(4)}`\r\n}\r\n\r\nconst beautifyJSONString = (jsonstring) => {\r\n    try {\r\n        return JSON.stringify(JSON.parse(jsonstring), null, \" \")\r\n    } catch (e) {\r\n        return \"error\"\r\n    }\r\n}\r\n\r\n//replace several variable from a string\r\n//array format [{name,value},...]\r\nfunction replaceVariables(arrayRef, string, reverted = false) {\r\n    return arrayRef.reduce((acc, curr) => {\r\n        if (reverted) {\r\n            return acc.replace(curr.value, curr.name)\r\n        } else {\r\n            return acc.replaceAll(curr.name, curr.value)\r\n        }\r\n    }, string)\r\n}\r\n\r\n//Format status\r\nconst formatStatus = (status) => {\r\n    if (status.toUpperCase().indexOf(\"OK\") != -1) return \"S126\"\r\n    if (status.toUpperCase().indexOf(\"ERROR\") != -1) return \"S22\"\r\n    return status\r\n}\r\n\r\nconst isFloat = (n) => {\r\n    return Number(n) === n && n % 1 !== 0\r\n}\r\n\r\nexport {\r\n    capitalize,\r\n    hslToHex,\r\n    beautifyJSONString,\r\n    compareStrings,\r\n    formatFileSizeToString,\r\n    formatStatus,\r\n    replaceVariables,\r\n    isFloat,\r\n}\r\n","/*\r\n arrays.js - ESP3D WebUI helpers file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nconst removeEntriesByIDs = (src, uid) =>\r\n    src.filter(({ id }) => !uid.includes(id))\r\n\r\nconst limitArr = (arr, limit) =>\r\n    arr.slice(\r\n        arr.length - (arr.length <= limit ? arr.length : limit),\r\n        arr.length\r\n    )\r\n\r\nconst splitArrayByLines = (arrayBuffer) => {\r\n    const bytes = new Uint8Array(arrayBuffer)\r\n    return bytes.reduce(\r\n        (acc, curr) => {\r\n            if (curr == 10 || curr == 13) return [...acc, []]\r\n            const i = Number(acc.length - 1)\r\n            return [...acc.slice(0, i), [...acc[i], curr]]\r\n        },\r\n        [[]]\r\n    )\r\n}\r\n\r\n//Merge 2 JSON in generic way\r\n//based on https://gist.github.com/sinemetu1/1732896#gistcomment-2571586\r\nfunction mergeJSON(o1, o2) {\r\n    let tempNewObj = o1\r\n    if (o1.length === undefined && typeof o1 !== \"number\") {\r\n        for (let key in o2) {\r\n            let value = o2[key]\r\n            if (o1[key] === undefined) {\r\n                tempNewObj[key] = value\r\n            } else {\r\n                tempNewObj[key] = mergeJSON(o1[key], o2[key])\r\n            }\r\n        }\r\n    } else if (o1.length > 0 && typeof o1 !== \"string\") {\r\n        for (let index in o2) {\r\n            if (JSON.stringify(o1).indexOf(JSON.stringify(o2[index])) === -1) {\r\n                //look for existing id in same section\r\n                let i = tempNewObj.findIndex(\r\n                    (element) => element.id == o2[index].id\r\n                )\r\n                if (i == -1) tempNewObj.push(o2[index])\r\n                else {\r\n                    if (Array.isArray(tempNewObj[i].value)) {\r\n                        //need to check if id is already in array\r\n                        for (let v in o2[index].value) {\r\n                            let j = tempNewObj[i].value.findIndex(\r\n                                (element) => element.id == o2[index].value[v].id\r\n                            )\r\n                            if (j == -1) {\r\n                                tempNewObj[i].value.push(o2[index].value[v])\r\n                            } else {\r\n                                tempNewObj[i].value[j] = o2[index].value[v]\r\n                            }\r\n                        }\r\n                    } else tempNewObj[i].value = o2[index].value\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        tempNewObj = o2\r\n    }\r\n    return tempNewObj\r\n}\r\n\r\nexport { limitArr, mergeJSON, removeEntriesByIDs, splitArrayByLines }\r\n","/*html.js - ESP3D WebUI helpers file\r\n\r\n Copyright (c) 2021 Luc LEBOSSE. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nconst dispatchToExtensions = (type, data, id) => {\r\n    const iframeList = document.querySelectorAll(\"iframe.extensionContainer\")\r\n    iframeList.forEach((element) => {\r\n        element.contentWindow.postMessage(\r\n            { type: type, content: data, id },\r\n            \"*\"\r\n        )\r\n    })\r\n}\r\n\r\nexport { dispatchToExtensions }\r\n","/*\r\n filters.js - ESP3D WebUI Target file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { compareStrings } from \"./strings\"\r\n\r\n//sort files alphabeticaly then folders alphabeticaly\r\nconst sortedFilesList = (filesList) => {\r\n    if (typeof filesList == \"undefined\") return []\r\n    filesList.sort(function (a, b) {\r\n        return compareStrings(a.name, b.name)\r\n    })\r\n    filesList.sort(function (a, b) {\r\n        return a.size == -1 && b.size != -1\r\n            ? 1\r\n            : a.size != -1 && b.size == -1\r\n            ? -1\r\n            : 0\r\n    })\r\n    return filesList\r\n}\r\n\r\n//Filter array of flat FS file list based on path\r\nconst filterResultFiles = (files, path) => {\r\n    const folderList = []\r\n    return files.reduce((acc, element) => {\r\n        if (path == \"/\") {\r\n            if (element.name.indexOf(\"/\") == -1) acc.push(element)\r\n            else {\r\n                //it is directory\r\n                const name = element.name.substring(\r\n                    element.name[0] == \"/\" ? 1 : 0,\r\n                    element.name.indexOf(\"/\", 1)\r\n                )\r\n                if (!folderList.includes(name)) {\r\n                    folderList.push(name)\r\n                    acc.push({ name, size: \"-1\" })\r\n                }\r\n            }\r\n        } else {\r\n            //it is sub file\r\n            const p = path.substring(1)\r\n            const name = element.name.substring(element.name[0] == \"/\" ? 1 : 0)\r\n            if (name.startsWith(p + \"/\")) {\r\n                let newpath = name.substring(p.length + 1)\r\n                //it is file or subfile ?\r\n                if (newpath.indexOf(\"/\") == -1 && newpath.length > 0) {\r\n                    //file\r\n                    acc.push({ name: newpath, size: element.size })\r\n                } else {\r\n                    //subdir\r\n                    const foldername = newpath.substring(\r\n                        0,\r\n                        newpath.indexOf(\"/\")\r\n                    )\r\n                    if (\r\n                        !folderList.includes(foldername) &&\r\n                        foldername.length > 0\r\n                    ) {\r\n                        folderList.push(foldername)\r\n                        acc.push({ name: foldername, size: \"-1\" })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return acc\r\n    }, [])\r\n}\r\n\r\nexport { sortedFilesList, filterResultFiles }\r\n","/*\r\n index.js - ESP3D WebUI helpers file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { espHttpURL, getCookie, isLimitedEnvironment } from \"./http\"\r\nimport { getBrowserTime } from \"./time\"\r\nimport {\r\n    createComponent,\r\n    disableNode,\r\n    disableUI,\r\n    generateUID,\r\n    getColClasses,\r\n} from \"./components\"\r\nimport {\r\n    beautifyJSONString,\r\n    capitalize,\r\n    hslToHex,\r\n    formatFileSizeToString,\r\n    formatStatus,\r\n    compareStrings,\r\n    replaceVariables,\r\n    isFloat,\r\n} from \"./strings\"\r\nimport {\r\n    limitArr,\r\n    mergeJSON,\r\n    removeEntriesByIDs,\r\n    splitArrayByLines,\r\n} from \"./arrays\"\r\nimport { dispatchToExtensions } from \"./html\"\r\nimport { sortedFilesList, filterResultFiles } from \"./filters\"\r\n\r\nexport {\r\n    beautifyJSONString,\r\n    capitalize,\r\n    replaceVariables,\r\n    compareStrings,\r\n    createComponent,\r\n    disableNode,\r\n    disableUI,\r\n    dispatchToExtensions,\r\n    espHttpURL,\r\n    filterResultFiles,\r\n    formatStatus,\r\n    generateUID,\r\n    getBrowserTime,\r\n    getColClasses,\r\n    getCookie,\r\n    hslToHex,\r\n    isLimitedEnvironment,\r\n    limitArr,\r\n    mergeJSON,\r\n    formatFileSizeToString,\r\n    removeEntriesByIDs,\r\n    sortedFilesList,\r\n    splitArrayByLines,\r\n    isFloat,\r\n}\r\n","/*\r\n UiContext.js - ESP3D WebUI context file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h, createContext } from \"preact\"\r\nimport { useContext, useState, useRef, useEffect } from \"preact/hooks\"\r\nimport {\r\n    generateUID,\r\n    removeEntriesByIDs,\r\n    disableUI,\r\n} from \"../components/Helpers\"\r\n\r\nconst useUiContextFn = {}\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst UiContext = createContext(\"uiContext\")\r\nconst useUiContext = () => useContext(UiContext)\r\nconst UiContextProvider = ({ children }) => {\r\n    const [modals, setModal] = useState([])\r\n    const [toasts, setToasts] = useState([])\r\n\r\n    const toastsRef = useRef(toasts)\r\n    toastsRef.current = toasts\r\n\r\n    const addToast = (newToast) => {\r\n        const id = generateUID()\r\n        const now = new Date()\r\n        const time =\r\n            now.getHours().toString().padStart(2, \"0\") +\r\n            \":\" +\r\n            now.getMinutes().toString().padStart(2, \"0\") +\r\n            \":\" +\r\n            now.getSeconds().toString().padStart(2, \"0\")\r\n\r\n        setToasts([...toastsRef.current, { ...newToast, id }])\r\n        setNotifications([\r\n            ...notificationsRef.current,\r\n            { ...newToast, id, time },\r\n        ])\r\n    }\r\n\r\n    const clearNotifications = () => {\r\n        setNotifications([])\r\n    }\r\n\r\n    const removeToast = (uids) => {\r\n        const removedIds = removeEntriesByIDs(toastsRef.current, uids)\r\n        setToasts([...removedIds])\r\n    }\r\n\r\n    const addModal = (newModal) =>\r\n        setModal([\r\n            ...modals,\r\n            { ...newModal, id: newModal.id ? newModal.id : generateUID() },\r\n        ])\r\n    const getModalIndex = (id) => {\r\n        return modals.findIndex((element) => element.id == id)\r\n    }\r\n    const removeModal = (modalIndex) => {\r\n        const newModalList = modals.filter(\r\n            (modal, index) => index !== modalIndex\r\n        )\r\n        setModal(newModalList)\r\n        if (newModalList.length == 0) disableUI(false)\r\n    }\r\n\r\n    const clearModals = () => {\r\n        setModal([])\r\n    }\r\n\r\n    useUiContextFn.getValue = (v)=>{console.log(v, \"not found\")}\r\n    useUiContextFn.getElement = (v)=>{console.log(v, \"not found\")}\r\n\r\n\r\n    useUiContextFn.toasts = { addToast, removeToast, toastList: toasts }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n    const store = {\r\n\r\n        toasts: { toastList: toasts, addToast, removeToast },\r\n        modals: {\r\n            modalList: modals,\r\n            addModal,\r\n            removeModal,\r\n            getModalIndex,\r\n            clearModals,\r\n        },\r\n\r\n    }\r\n\r\n    return <UiContext.Provider value={store}>{children}</UiContext.Provider>\r\n}\r\n\r\nexport { UiContextProvider, useUiContext, useUiContextFn }\r\n","/*\r\n DatasContext.js - ESP3D WebUI context file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h, createContext } from \"preact\"\r\nimport { useRef, useContext, useState } from \"preact/hooks\"\r\nimport defaultConfiguration from \"../configuration.json\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst useDatasContextFn = {}\r\nconst DatasContext = createContext(\"DatasContext\")\r\nconst useDatasContext = () => useContext(DatasContext)\r\n\r\nconst DatasContextProvider = ({ children }) => {\r\n    const configuration = useRef(defaultConfiguration)\r\n    const getValue = (section, group, item) => {\r\n        const groupelement =\r\n            configuration.current[section][\r\n                configuration.current[section].findIndex((e) => e.id === group)\r\n            ]\r\n\r\n        return groupelement.value[\r\n            groupelement.value.findIndex((e) => e.id === item)\r\n        ].value\r\n    }\r\n    const getValueId = (Id) => {\r\n        if (!Id) return undefined\r\n        const settingsobject = configuration.current\r\n        if (settingsobject) {\r\n            for (let key in settingsobject) {\r\n                if (Array.isArray(settingsobject[key])) {\r\n                    for (\r\n                        let index = 0;\r\n                        index < settingsobject[key].length;\r\n                        index++\r\n                    ) {\r\n                        if (settingsobject[key][index].id == Id) {\r\n                            return settingsobject[key][index].value\r\n                        }\r\n                        if (Array.isArray(settingsobject[key][index].value)) {\r\n                            for (\r\n                                let subindex = 0;\r\n                                subindex <\r\n                                settingsobject[key][index].value.length;\r\n                                subindex++\r\n                            ) {\r\n                                if (\r\n                                    settingsobject[key][index].value[subindex]\r\n                                        .id == Id\r\n                                ) {\r\n                                    return settingsobject[key][index].value[\r\n                                        subindex\r\n                                    ].value\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    for (let subkey in settingsobject[key]) {\r\n                        if (Array.isArray(settingsobject[key][subkey])) {\r\n                            for (\r\n                                let index = 0;\r\n                                index < settingsobject[key][subkey].length;\r\n                                index++\r\n                            ) {\r\n                                if (\r\n                                    settingsobject[key][subkey][index].id == Id\r\n                                ) {\r\n                                    return settingsobject[key][subkey][index]\r\n                                        .value\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return undefined\r\n    }\r\n    useDatasContextFn.getValue = getValue\r\n    useDatasContextFn.getValueId = getValueId\r\n    const store = {\r\n        configuration,\r\n    }\r\n\r\n    return (\r\n        <DatasContext.Provider value={store}>{children}</DatasContext.Provider>\r\n    )\r\n}\r\n\r\nexport { DatasContextProvider, useDatasContext, useDatasContextFn }\r\n","/*\r\n index.js - ESP3D WebUI context file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { RouterContextProvider, useRouterContext } from \"./RouterContext\"\r\nimport { UiContextProvider, useUiContext, useUiContextFn } from \"./UiContext\"\r\nimport {\r\n    DatasContextProvider,\r\n    useDatasContext,\r\n    useDatasContextFn,\r\n} from \"./DatasContext\"\r\n\r\nexport {\r\n    RouterContextProvider,\r\n    useRouterContext,\r\n    UiContextProvider,\r\n    useUiContext,\r\n    useUiContextFn,\r\n    DatasContextProvider,\r\n    useDatasContext,\r\n    useDatasContextFn,\r\n}\r\n","/*\r\n Button.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { createComponent } from \"../Helpers\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\n\r\nconst modifiers = {\r\n    donotdisable: \"do-not-disable\",\r\n    group: \"input-group-btn\",\r\n    link: \"btn-link\",\r\n    primary: \"btn-primary\",\r\n    error: \"btn-error\",\r\n    success: \"btn-success\",\r\n    lg: \"btn-lg\",\r\n    sm: \"btn-sm\",\r\n    xs: \"btn-xs\",\r\n    block: \"btn-block\",\r\n    action: \"btn-action\",\r\n    circle: \"s-circle\",\r\n    active: \"active\",\r\n    disable: \"disable\",\r\n    loading: \"loading\",\r\n    tooltip: \"tooltip\",\r\n    btooltip: \"tooltip-bottom\",\r\n    ltooltip: \"tooltip tooltip-left\",\r\n    rtooltip: \"tooltip tooltip-right\",\r\n    mx2: \"mx-2\",\r\n    m05: \"m-05\",\r\n    m2: \"m-2\",\r\n    m1: \"m-1\",\r\n}\r\nconst Button = createComponent(\"button\", \"btn\", modifiers)\r\n\r\nexport default Button\r\n","/*\r\n Button.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Luc LEBOSSE. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport Button from \"./Button\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst ButtonImg = ({\r\n    label,\r\n    icon,\r\n    iconRight,\r\n    width,\r\n    nomin,\r\n    style,\r\n    showlow,\r\n    className,\r\n    ...rest\r\n}) => {\r\n    return (\r\n        <Button\r\n            class={`feather-icon-container ${className ? className : \"\"}`}\r\n            {...rest}\r\n            style={\r\n                (nomin ? style : \"min-width:2rem;\" + style) +\r\n                \";display:inline-block;white-space: nowrap;\"\r\n            }\r\n        >\r\n            <div style=\"overflow:hidden!important;white-space: nowrap;text-overflow:ellipsis!important;cursor: pointer;pointer-events: none;\">\r\n                {iconRight ? \"\" : icon}\r\n                {label && (\r\n                    <label\r\n                        class={\r\n                            width\r\n                                ? `${showlow ? \"\" : \"hide-low\"}`\r\n                                : showlow\r\n                                ? \"\"\r\n                                : \"hide-low\"\r\n                        }\r\n                        style={\r\n                            \"display:inline\" +\r\n                            (width ? \"max-width:\" + width : \"max-width:3rem\")\r\n                        }\r\n                    >\r\n                        {label}\r\n                    </label>\r\n                )}\r\n                {iconRight ? icon : \"\"}\r\n            </div>\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default ButtonImg\r\n","/*\r\n Boolean.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\n\r\nimport { h } from \"preact\"\r\nimport { useEffect } from \"preact/hooks\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst Boolean = ({\r\n    id,\r\n    label,\r\n    validation,\r\n    value = false,\r\n    type,\r\n    depend,\r\n    setValue,\r\n    inline,\r\n    ...rest\r\n}) => {\r\n    const inputCheckboxProps = {\r\n        name: id,\r\n        id,\r\n        checked: value,\r\n        ...rest,\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        if (setValue) setValue(e.target.checked)\r\n    }\r\n\r\n    \r\n    useEffect(() => {\r\n        //to update state\r\n        if (setValue) setValue(null, true)\r\n    }, [value])\r\n    return (\r\n        <label class=\"form-switch\">\r\n            <input\r\n                type=\"checkbox\"\r\n                {...inputCheckboxProps}\r\n                onChange={onChange}\r\n            />\r\n            <i class=\"form-icon\" />{\" \"}\r\n            <span class={inline ? \"text-dark\" : \"d-none\"}>{label}</span>\r\n        </label>\r\n    )\r\n}\r\n\r\nexport default Boolean\r\n","/*\r\n FormGroup.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved\r\n Modified by Luc LEBOSSE 2021\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\n\r\nimport { h } from \"preact\"\r\n\r\nconst FormGroup = ({\r\n    className,\r\n    inline,\r\n    validation = null,\r\n    children,\r\n    label,\r\n    id,\r\n    type,\r\n}) => {\r\n    const getValidationClass = (validation) => {\r\n        if (validation !== null && validation.valid == true) {\r\n            if (validation.modified) return `form-group has-modification`\r\n            if (validation.success) return `form-group has-success`\r\n        }\r\n        if (validation != null && validation.valid == false)\r\n            return `form-group has-error`\r\n        return `form-group`\r\n    }\r\n    return (\r\n        <div\r\n            class={`${className ? className : \"\"} ${getValidationClass(\r\n                validation\r\n            )}`}\r\n            id={id ? \"group-\" + id : \"\"}\r\n        >\r\n            <div class={inline ? \"columns mt-2\" : \"flex-cols\"}>\r\n                {label && (\r\n                    <label\r\n                        class={\r\n                            inline && type == \"boolean\"\r\n                                ? \"d-none\"\r\n                                : `form-label text-dark ${\r\n                                      inline ? \"column col-auto\" : \"\"\r\n                                  }`\r\n                        }\r\n                        htmlFor={id}\r\n                    >\r\n                        {label}\r\n                    </label>\r\n                )}\r\n\r\n                {children}\r\n            </div>\r\n            {validation && validation.message && (\r\n                <div\r\n                    className={`form-input-hint ${\r\n                        inline ? \"text-left\" : \"text-center\"\r\n                    }`}\r\n                >\r\n                    {validation.message}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormGroup\r\n","import { h } from 'preact';\nexport const EyeOff = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"path\", { d: \"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\" }),\n        h(\"line\", { x1: \"1\", y1: \"1\", x2: \"23\", y2: \"23\" })));\n};\n//# sourceMappingURL=eye-off.js.map","import { h } from 'preact';\nexport const Eye = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"path\", { d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" }),\n        h(\"circle\", { cx: \"12\", cy: \"12\", r: \"3\" })));\n};\n//# sourceMappingURL=eye.js.map","import { h } from 'preact';\nexport const ChevronDown = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"polyline\", { points: \"6 9 12 15 18 9\" })));\n};\n//# sourceMappingURL=chevron-down.js.map","import { h } from 'preact';\nexport const HelpCircle = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"circle\", { cx: \"12\", cy: \"12\", r: \"10\" }),\n        h(\"path\", { d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\" }),\n        h(\"line\", { x1: \"12\", y1: \"17\", x2: \"12.01\", y2: \"17\" })));\n};\n//# sourceMappingURL=help-circle.js.map","/*\r\n index.js - ESP3D WebUI translations engine\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nimport LangRessourceBase from \"../../translations/en.json\"\r\nimport listLanguagePacks from \"./languages.json\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst baseLangRessource = {\r\n    ...LangRessourceBase,\r\n}\r\n\r\nlet currentLanguage = baseLangRessource\r\n\r\nconst setCurrentLanguage = (lang) => (currentLanguage = lang)\r\n\r\n/*\r\n * Give text from id according language selection\r\n * give language base text if no corresponding id\r\n */\r\nfunction T(id, base = false, ressourcelanguage = null) {\r\n    let translatedText = base\r\n        ? baseLangRessource[id]\r\n        : ressourcelanguage\r\n        ? ressourcelanguage[id]\r\n        : currentLanguage[id]\r\n    if (!id || typeof id == \"object\" || !isNaN(id) || !isNaN(id.charAt(0)))\r\n        return id\r\n    if (typeof translatedText === \"undefined\") {\r\n        translatedText = baseLangRessource[id]\r\n        if (typeof translatedText === \"undefined\") {\r\n            translatedText = id\r\n        }\r\n    }\r\n    return translatedText\r\n}\r\n\r\nfunction getLanguageName(languagePack) {\r\n    const id = languagePack.replace(\"lang-\", \"\").replace(\".json\", \"\")\r\n    let lang = listLanguagePacks[id]\r\n    if (!id || typeof id == \"object\" || !isNaN(id) || !isNaN(id.charAt(0)))\r\n        return id\r\n    if (typeof lang === \"undefined\") return languagePack\r\n    return lang\r\n}\r\n\r\nexport { T, getLanguageName, setCurrentLanguage, baseLangRessource }\r\n","/*\r\n genericModal.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Luc LEBOSSE. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { useUiContextFn } from \"../../contexts\"\r\nconst showModal = ({\r\n    modals,\r\n    title,\r\n    button1,\r\n    button2,\r\n    content,\r\n    icon,\r\n    id,\r\n    hideclose,\r\n    overlay,\r\n}) => {\r\n    const defaultCb1 = () => {\r\n        useUiContextFn.haptic()\r\n        if (button1 && button1.noclose != true)\r\n            modals.removeModal(modals.getModalIndex(id))\r\n        if (button1 && button1.cb) button1.cb()\r\n    }\r\n    const defaultCb2 = () => {\r\n        useUiContextFn.haptic()\r\n        if (button2 && button2.noclose != true)\r\n            modals.removeModal(modals.getModalIndex(id))\r\n        if (button2 && button2.cb) button2.cb()\r\n    }\r\n    if (modals.getModalIndex(id) == -1)\r\n        modals.addModal({\r\n            id,\r\n            title: (\r\n                <div\r\n                    class=\"text-primary feather-icon-container\"\r\n                    style=\"line-height:24px!important\"\r\n                >\r\n                    {icon}\r\n                    <label>{title}</label>\r\n                </div>\r\n            ),\r\n            content: content,\r\n            footer: (\r\n                <div>\r\n                    {button1 && (\r\n                        <button\r\n                            id={button1.id ? button1.id : null}\r\n                            class=\"btn mx-2\"\r\n                            onClick={defaultCb1}\r\n                        >\r\n                            {button1.text}\r\n                        </button>\r\n                    )}\r\n\r\n                    {button2 && (\r\n                        <button\r\n                            id={button2.id ? button2.id : null}\r\n                            class=\"btn mx-2\"\r\n                            onClick={defaultCb2}\r\n                        >\r\n                            {button2.text}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            ),\r\n            overlay: overlay,\r\n            hideclose: hideclose,\r\n        })\r\n}\r\n\r\nexport { showModal }\r\n","/*\r\n confirmationModal.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Luc LEBOSSE. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { HelpCircle } from \"preact-feather\"\r\nimport { showModal } from \"./genericModal\"\r\n\r\nconst showConfirmationModal = ({\r\n    modals,\r\n    title,\r\n    content,\r\n    button1,\r\n    button2,\r\n}) => {\r\n    showModal({\r\n        modals,\r\n        title,\r\n        content,\r\n        button1,\r\n        button2,\r\n        id: \"confirmation\",\r\n        icon: <HelpCircle />,\r\n        hideclose: true,\r\n    })\r\n}\r\n\r\nexport { showConfirmationModal }\r\n","/*\r\n progressModal.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Luc LEBOSSE. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { Info } from \"preact-feather\"\r\nimport { useUiContextFn } from \"../../contexts\"\r\n\r\nconst showProgressModal = ({ modals, title, button1, content }) => {\r\n    const id = \"progression\"\r\n    const defaultCb1 = () => {\r\n        useUiContextFn.haptic()\r\n        modals.removeModal(modals.getModalIndex(id))\r\n        if (button1 && button1.cb) button1.cb()\r\n    }\r\n\r\n    if (modals.getModalIndex(id) == -1)\r\n        modals.addModal({\r\n            id: id,\r\n            title: (\r\n                <div\r\n                    class=\"text-primary feather-icon-container\"\r\n                    style=\"line-height:24px!important\"\r\n                >\r\n                    <Info />\r\n                    <label>{title}</label>\r\n                </div>\r\n            ),\r\n            content: content,\r\n            footer: (\r\n                <button class=\"btn mx-2\" onClick={defaultCb1}>\r\n                    {button1.text}\r\n                </button>\r\n            ),\r\n            //overlay: true,\r\n            hideclose: true,\r\n        })\r\n}\r\n\r\nexport { showProgressModal }\r\n","/*\r\n Modal.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { useUiContext, useUiContextFn } from \"../../contexts\"\r\nimport { Modal as SpectreModal } from \"../Controls\"\r\nimport { disableUI } from \"../Helpers\"\r\nimport { showConfirmationModal } from \"./confirmModal\"\r\nimport { showProgressModal } from \"./progressModal\"\r\nimport { showModal } from \"./genericModal\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst Modal = () => {\r\n    const { modals } = useUiContext()\r\n    if (modals.modalList && modals.modalList.length > 0) {\r\n        disableUI(true)\r\n    }\r\n\r\n    return (\r\n        modals.modalList &&\r\n        modals.modalList.length > 0 &&\r\n        modals.modalList.map((modal, index) => {\r\n            const modalSize = modal.size || \"sm\"\r\n            return (\r\n                <SpectreModal\r\n                    class={`active`}\r\n                    id={\"modal-\" + modal.id}\r\n                    style=\"z-index:20000\"\r\n                    key={index}\r\n                >\r\n                    <SpectreModal.Overlay\r\n                        aria-label=\"Close\"\r\n                        onClick={() => {\r\n                            useUiContextFn.haptic()\r\n                            if (modal.overlay) modals.removeModal(index)\r\n                        }}\r\n                    />\r\n                    <SpectreModal.Container>\r\n                        <SpectreModal.Header>\r\n                            <button\r\n                                className={\r\n                                    modal.hideclose\r\n                                        ? \"d-none\"\r\n                                        : \"btn btn-clear float-right btn-close\"\r\n                                }\r\n                                aria-label=\"Close\"\r\n                                onClick={() => {\r\n                                    useUiContextFn.haptic()\r\n                                    modals.removeModal(index)\r\n                                }}\r\n                            />\r\n                            <div className=\"modal-title h5\">\r\n                                {modal.title && modal.title}\r\n                            </div>\r\n                        </SpectreModal.Header>\r\n                        <SpectreModal.Body>\r\n                            <div className=\"content\">\r\n                                {modal.content && modal.content}\r\n                            </div>\r\n                        </SpectreModal.Body>\r\n                        {modal.footer && (\r\n                            <SpectreModal.Footer>\r\n                                {modal.footer}\r\n                            </SpectreModal.Footer>\r\n                        )}\r\n                    </SpectreModal.Container>\r\n                </SpectreModal>\r\n            )\r\n        })\r\n    )\r\n}\r\n\r\nexport {\r\n    Modal,\r\n    showConfirmationModal,\r\n    showProgressModal,\r\n    showModal,\r\n}\r\n","/*\r\n Input.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\n\r\nimport { h } from \"preact\"\r\nimport { useRef, useState, useEffect } from \"preact/hooks\"\r\nimport { Eye, EyeOff, Search, ChevronDown, HelpCircle } from \"preact-feather\"\r\nimport { ButtonImg } from \"../../Controls\"\r\nimport { T } from \"./../../Translations\"\r\nimport { showModal } from \"../../Modal\"\r\nimport { useUiContext, useUiContextFn } from \"../../../contexts\"\r\n\r\nconst Reveal = ({ applyTo }) => {\r\n    const [reveal, setReveal] = useState(false)\r\n    const clickReveal = () => {\r\n        setReveal(!reveal)\r\n        //note: reveal is not yet updated so need to upside down compare to use effect\r\n        applyTo.current.type = reveal ? \"password\" : \"text\"\r\n    }\r\n    useEffect(() => {\r\n        //for consistency in case of redraw\r\n        applyTo.current.type = reveal ? \"text\" : \"password\"\r\n    }, [])\r\n    return (\r\n        <div class=\"form-icon passwordReveal\" onCLick={clickReveal}>\r\n            {reveal ? (\r\n                <EyeOff\r\n                    size=\"1rem\"\r\n                    class=\"has-error\"\r\n                    style=\"margin-top:0.15rem\"\r\n                />\r\n            ) : (\r\n                <Eye size=\"1rem\" class=\"has-error\" style=\"margin-top:0.15rem\" />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Input = ({\r\n    label = \"\",\r\n    type = \"text\",\r\n    id = \"\",\r\n    value = \"\",\r\n    width,\r\n    setValue,\r\n    options = [],\r\n    extra,\r\n    inline,\r\n    append,\r\n    depend,\r\n    help,\r\n    button,\r\n    disabled,\r\n    className,\r\n    ...rest\r\n}) => {\r\n    const { step } = rest\r\n    const inputref = useRef()\r\n    const onInput = (e) => {\r\n        if (setValue) {\r\n            setValue(e.target.value)\r\n        }\r\n    }\r\n    const { modals } = useUiContext()\r\n    const props = {\r\n        type,\r\n        id,\r\n        name: id,\r\n        value,\r\n        step: step ? step : \"any\",\r\n    }\r\n\r\n    useEffect(() => {\r\n        //to update state when import- but why ?\r\n        if (setValue) setValue(null, true)\r\n    }, [value])\r\n    if (type === \"password\")\r\n        return (\r\n            <div class={`has-icon-right ${inline ? \"column\" : \"\"}`} {...rest}>\r\n                <input\r\n                    spellcheck=\"false\"\r\n                    autocorrect=\"off\"\r\n                    autocomplete=\"off\"\r\n                    ref={inputref}\r\n                    class=\"form-input\"\r\n                    {...props}\r\n                    placeholder=\"\"\r\n                    {...rest}\r\n                    onInput={onInput}\r\n                />\r\n                <Reveal applyTo={inputref} />\r\n            </div>\r\n        )\r\n    if (extra == \"dropList\") {\r\n        return (\r\n            <div class={`input-group ${inline ? \"column\" : \"\"} `}>\r\n                <input\r\n                    spellcheck=\"false\"\r\n                    autocorrect=\"off\"\r\n                    autocomplete=\"off\"\r\n                    lang=\"en-US\"\r\n                    ref={inputref}\r\n                    style={width ? \"width:\" + width : \"\"}\r\n                    id={id}\r\n                    class=\"form-input\"\r\n                    {...props}\r\n                    placeholder=\"\"\r\n                    {...rest}\r\n                    onInput={onInput}\r\n                />\r\n                {append && <span class=\"input-group-addon\">{T(append)}</span>}\r\n                {options.length > 0 && (\r\n                    <ButtonImg\r\n                        class=\"input-group-btn\"\r\n                        icon={<ChevronDown color=\"blue\" />}\r\n                        data-tooltip={T(help)}\r\n                        onClick={(e) => {\r\n                            e.target.blur()\r\n                            const modalId = \"list\" + id\r\n                            showModal({\r\n                                modals,\r\n                                title: T(\"S198\"),\r\n                                button2: { text: T(\"S24\") },\r\n                                icon: <HelpCircle />,\r\n                                id: modalId,\r\n                                content: (\r\n                                    <ul class=\"selection-list\">\r\n                                        {options.map((option) => {\r\n                                            return (\r\n                                                <li\r\n                                                    class=\"item-selection-list\"\r\n                                                    onclick={(e) => {\r\n                                                        setValue(option.value)\r\n                                                        modals.removeModal(\r\n                                                            modals.getModalIndex(\r\n                                                                modalId\r\n                                                            )\r\n                                                        )\r\n                                                    }}\r\n                                                >\r\n                                                    {option.display}\r\n                                                </li>\r\n                                            )\r\n                                        })}\r\n                                    </ul>\r\n                                ),\r\n                            })\r\n                        }}\r\n                    />\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div\r\n            class={`input-group ${inline ? \"column\" : \"\"} ${\r\n                button ? \"has-button-submit\" : \"no-button-submit\"\r\n            } ${help ? \"tooltip\" : \"\"}`}\r\n            data-tooltip={T(help)}\r\n        >\r\n            <input\r\n                class={\"form-input \" + className}\r\n                disabled={disabled}\r\n                spellcheck=\"false\"\r\n                autocorrect=\"off\"\r\n                autocomplete=\"off\"\r\n                {...props}\r\n                {...rest}\r\n                onInput={onInput}\r\n            />\r\n            {append && <span class=\"input-group-addon\">{T(append)}</span>}\r\n            {button}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Input\r\n","/*\r\n Select.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\n\r\nimport { Fragment, h } from \"preact\"\r\nimport { useEffect } from \"preact/hooks\"\r\nimport { useSettingsContext, useUiContextFn } from \"../../../contexts\"\r\n\r\nconst Option = ({ label, ...props }) => {\r\n    return <option {...props}>{label}</option>\r\n}\r\n\r\nconst Select = ({\r\n    label = \"\",\r\n    id = \"\",\r\n    options = [],\r\n    inline,\r\n    setValue,\r\n    value,\r\n    button,\r\n    className,\r\n    ...rest\r\n}) => {\r\n    const optionList = options.map((option) => <Option {...option} />)\r\n    const props = {\r\n        id,\r\n        name: id,\r\n    }\r\n    const onChange = (e) => {\r\n        if (setValue) setValue(e.target.value)\r\n    }\r\n    useEffect(() => {\r\n        //to update state\r\n        if (setValue) setValue(null, true)\r\n    }, [value])\r\n\r\n    return (\r\n        <Fragment>\r\n            <select\r\n                class={`form-select ${inline ? \"column\" : \"\"} ${className}`}\r\n                {...props}\r\n                {...rest}\r\n                value={value}\r\n                onChange={onChange}\r\n            >\r\n                {optionList}\r\n            </select>\r\n            {button}\r\n        </Fragment>\r\n    )\r\n}\r\nexport default Select\r\n","/*\r\n Label.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\n\r\nimport { h } from \"preact\"\r\nimport { useEffect } from \"preact/hooks\"\r\n\r\nconst LabelCtrl = ({ label = \"\", id = \"\", value = \"\", setValue, ...rest }) => {\r\n    useEffect(() => {\r\n        //to update state when import or show first time as value will never change because it is a label not an input\r\n        if (setValue) setValue(null, true)\r\n    }, [value])\r\n    return null\r\n}\r\n\r\nexport default LabelCtrl\r\n","/*\r\n index.js - ESP3D WebUI controls file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nimport Boolean from \"./Boolean\"\r\nimport FormGroup from \"./FormGroup\"\r\nimport Input from \"./Input\"\r\nimport Select from \"./Select\"\r\nimport LabelCtrl from \"./Label\"\r\n\r\nexport {\r\n    Boolean,\r\n    FormGroup,\r\n    Input,\r\n    Select,\r\n    LabelCtrl,\r\n}\r\n","/*\r\nField.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n Modified by Luc LEBOSSE 2021\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\n\r\nimport { Fragment, h } from \"preact\"\r\nimport {\r\n    FormGroup,\r\n    Input,\r\n    Select,\r\n    Boolean,\r\n    PickUp,\r\n    LabelCtrl,\r\n} from \"./Fields\"\r\n\r\nconst Field = (props) => {\r\n    const { type, id } = props\r\n    switch (type) {\r\n        case \"label\":\r\n            return (\r\n                <FormGroup {...props}>\r\n                    <LabelCtrl {...props} />\r\n                </FormGroup>\r\n            )\r\n        case \"icon\":\r\n            return (\r\n                <FormGroup {...props}>\r\n                    <IconSelect {...props} />\r\n                </FormGroup>\r\n            )\r\n        case \"select\":\r\n            return (\r\n                <FormGroup {...props}>\r\n                    <Select {...props} />\r\n                </FormGroup>\r\n            )\r\n        case \"boolean\":\r\n            return (\r\n                <FormGroup {...props}>\r\n                    <Boolean {...props} />\r\n                </FormGroup>\r\n            )\r\n        default:\r\n            //input\r\n            return (\r\n                <FormGroup {...props}>\r\n                    <Input {...props} />\r\n                </FormGroup>\r\n            )\r\n    }\r\n}\r\nexport { Field }\r\n","/*\r\n Loading.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { createComponent } from \"../Helpers\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst modifiers = {\r\n    lg: \"loading-lg\",\r\n    large: \"loading-lg\",\r\n}\r\nconst Loading = createComponent(\"div\", \"loading\", modifiers)\r\n\r\nexport default Loading\r\n","/*\r\n Modal.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { createComponent } from \"../Helpers\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst modifiers = {\r\n    lg: \"text-lg\",\r\n    large: \"text-lg\",\r\n    sm: \"text-sm\",\r\n    small: \"text-sm\",\r\n}\r\nconst Modal = createComponent(\"div\", \"modal\", modifiers)\r\nModal.Overlay = createComponent(\"a\", \"modal-overlay\")\r\nModal.Container = createComponent(\"div\", \"modal-container\")\r\nModal.Header = createComponent(\"div\", \"modal-header\")\r\nModal.Body = createComponent(\"div\", \"modal-body\")\r\nModal.Footer = createComponent(\"div\", \"modal-footer\")\r\n\r\nexport default Modal\r\n","/*\r\nToast.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { createComponent } from \"../Helpers\"\r\n\r\nconst modifiers = {\r\n    primary: \"toast-primary\",\r\n    success: \"toast-success\",\r\n    warning: \"toast-warning\",\r\n    error: \"toast-error\",\r\n}\r\n\r\nconst Toast = createComponent(\"div\", \"toast\", modifiers)\r\nToast.Close = createComponent(\"button\", \"btn btn-clear float-right\")\r\n\r\nexport default Toast\r\n","/*\r\n Progress.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { useEffect, useRef } from \"preact/hooks\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\n\r\nconst Progress = ({ progressBar, max = 100, precision = -1 }) => {\r\n    const progressValue = useRef(0)\r\n    const progressValueDisplay = useRef()\r\n    let calculationDone = false\r\n    let prec = precision != -1 ? precision : 0\r\n    const updateProgress = (value) => {\r\n        if (precision == -1) {\r\n            if (value == 0) prec = 0\r\n            else {\r\n                if (!calculationDone) {\r\n                    //if step is very small let's increase precision to show the changes\r\n                    if ((value / max) * 100 < 0.001) prec = 2\r\n                    else if ((value / max) * 100 < 0.01) prec = 1\r\n                    calculationDone = true\r\n                }\r\n            }\r\n        }\r\n        const val = ((value / max) * 100).toFixed(prec)\r\n        if (progressValue.current) {\r\n            progressValue.current.value = val\r\n            progressValueDisplay.current.innerHTML = val + \"%\"\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        progressBar.update = updateProgress\r\n        calculationDone = false\r\n        updateProgress(0)\r\n    }, [])\r\n    return (\r\n        <center>\r\n            <progress ref={progressValue} value=\"0\" max=\"100\" />\r\n            <label style=\"margin-left:15px\" ref={progressValueDisplay}></label>\r\n        </center>\r\n    )\r\n}\r\n\r\nexport default Progress\r\n","/*\r\n Button.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Luc LEBOSSE. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst CenterLeft = ({ bordered, children }) => {\r\n    return (\r\n        <center>\r\n            <div\r\n                class={\r\n                    bordered\r\n                        ? `${\r\n                              bordered == \"warning\"\r\n                                  ? \"bordered_warning\"\r\n                                  : \"bordered \"\r\n                          } m-2`\r\n                        : \"\"\r\n                }\r\n                style=\"display: inline-block;text-align: left;\"\r\n            >\r\n                {children}\r\n            </div>\r\n        </center>\r\n    )\r\n}\r\n\r\nexport default CenterLeft\r\n","/*\r\n FieldGroup.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved\r\n Modified by Luc LEBOSSE 2021\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\n\r\nimport { h } from \"preact\"\r\n\r\nconst FieldGroup = ({ className, children, label, id }) => {\r\n    return (\r\n        <fieldset\r\n            class={\r\n                `${className ? className : \"\"}` +\r\n                `${\r\n                    label\r\n                        ? \"fieldset-top-separator\"\r\n                        : \"fieldset-no-top-separator\"\r\n                }` +\r\n                \" fieldset-bottom-separator field-group\"\r\n            }\r\n            id={id}\r\n        >\r\n            <legend>\r\n                <label class=\"m-1\">{label}</label>\r\n            </legend>\r\n            <div class=\"field-group-content\">{children}</div>\r\n        </fieldset>\r\n    )\r\n}\r\n\r\nexport default FieldGroup\r\n","/*\r\n index.js - ESP3D WebUI controls file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nimport Button from \"./Button\"\r\nimport ButtonImg from \"./ButtonImg\"\r\nimport { Field } from \"./Field\"\r\nimport Loading from \"./Loading\"\r\nimport Modal from \"./Modal\"\r\nimport Toast from \"./Toast\"\r\nimport Progress from \"./Progress\"\r\nimport CenterLeft from \"./CenterLeft\"\r\nimport FieldGroup from \"./FieldGroup\"\r\n\r\nexport {\r\n    Button,\r\n    ButtonImg,\r\n    CenterLeft,\r\n    Field,\r\n    FieldGroup,\r\n    Loading,\r\n    Modal,\r\n    Progress,\r\n    Toast,\r\n}\r\n","/*\r\n Toast.js - ESP3D WebUI component file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { useEffect } from \"preact/hooks\"\r\nimport { useUiContext } from \"../../contexts\"\r\nimport { Toast as SpectreToast } from \"../Controls\"\r\nimport { T } from \"../Translations\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst Toast = ({ index, type = \"\", children, timeout = 2000, remove }) => {\r\n    useEffect(() => {\r\n        let timer\r\n        if (timeout) {\r\n            timer = setTimeout(() => {\r\n                remove(index)\r\n            }, timeout)\r\n            return () => clearTimeout(timer)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <SpectreToast {...{ [type]: true }}>\r\n            <SpectreToast.Close\r\n                onClick={() => {\r\n                    useUiContextFn.haptic()\r\n                    remove(index)\r\n                }}\r\n            />\r\n            {children}\r\n        </SpectreToast>\r\n    )\r\n}\r\n\r\nconst ToastsContainer = () => {\r\n    const { toasts } = useUiContext()\r\n    return (\r\n        toasts.toastList && (\r\n            <div class=\"toasts-container\">\r\n                {toasts.toastList.map((toast) => {\r\n                    const { id, type, content } = toast\r\n                    return (\r\n                        <Toast\r\n                            remove={toasts.removeToast}\r\n                            index={id}\r\n                            type={type}\r\n                            key={id}\r\n                        >\r\n                            {T(content)}\r\n                        </Toast>\r\n                    )\r\n                })}\r\n            </div>\r\n        )\r\n    )\r\n}\r\n\r\nexport { ToastsContainer }\r\n","import { h } from 'preact';\nexport const Settings = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"circle\", { cx: \"12\", cy: \"12\", r: \"3\" }),\n        h(\"path\", { d: \"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\" })));\n};\n//# sourceMappingURL=settings.js.map","/*\r\n logo.js - ESP3D logo file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\n\r\nimport { h } from \"preact\"\r\n\r\n/*\r\n *ESP3D Logo\r\n * default height is 50px\r\n */\r\nconst AppLogo = ({\r\n    height = \"50px\",\r\n    color = \"currentColor\",\r\n    bgcolor = \"white\",\r\n}) => {\r\n            return (\r\n            <svg\r\n                height={height}\r\n                viewBox=\"22 56 240 180\"\r\n                fill={bgcolor}\r\n                stroke={color}\r\n                class=\"esp3dlogo\"\r\n            >\r\n                <path d=\"m 227,91.9 -97,-0.3 0,100.4 83,0 c 20,0 46,-6 47,-36 l 0,-24 c 1,-20 -13,-40 -33,-40.1 z\" />\r\n                <path\r\n                    fill={color}\r\n                    stroke={bgcolor}\r\n                    d=\"M79.7,200.2h124c-15.5,16.5-37.6,26.7-62,26.7S95.3,216.7,79.7,200.2z\"\r\n                />\r\n                <path\r\n                    fill={color}\r\n                    stroke={bgcolor}\r\n                    d=\"M203.7,83.2h-124c15.5-16.5,37.6-26.7,62-26.7S188.2,66.8,203.7,83.2z\"\r\n                />\r\n                <path\r\n                    fill={color}\r\n                    stroke={bgcolor}\r\n                    d=\"M200.3,152.7c0,2.7-0.5,5-1.5,7.1s-2.4,3.8-4.2,5.2c-1.8,1.4-4,2.5-6.5,3.2c-2.5,0.7-5.3,1.1-8.3,1.1c-1.8,0-3.5-0.1-5.1-0.4c-1.6-0.3-3-0.6-4.2-1c-1.2-0.4-2.2-0.8-3-1.2c-0.8-0.4-1.3-0.7-1.6-0.9c-0.2-0.2-0.4-0.5-0.6-0.7c-0.1-0.3-0.2-0.6-0.3-1c-0.1-0.4-0.2-0.8-0.2-1.4c0-0.6-0.1-1.2-0.1-2c0-1.3,0.1-2.2,0.3-2.7c0.2-0.5,0.5-0.8,1-0.8c0.3,0,0.7,0.2,1.4,0.6c0.7,0.4,1.5,0.8,2.6,1.2c1,0.4,2.3,0.8,3.7,1.2c1.4,0.4,3,0.6,4.8,0.6c1.5,0,2.8-0.2,4-0.5c1.2-0.4,2.1-0.9,2.9-1.5c0.8-0.6,1.4-1.4,1.8-2.3c0.4-0.9,0.6-1.9,0.6-3.1c0-1.2-0.2-2.3-0.7-3.3c-0.5-1-1.2-1.8-2.1-2.5c-0.9-0.7-2.1-1.2-3.6-1.6c-1.4-0.4-3.1-0.6-5.1-0.6h-4.6c-0.4,0-0.7,0-0.9-0.1c-0.2-0.1-0.5-0.3-0.6-0.6c-0.2-0.3-0.3-0.7-0.3-1.3c-0.1-0.5-0.1-1.2-0.1-2.1c0-0.8,0-1.4,0.1-2c0.1-0.5,0.2-0.9,0.3-1.2c0.2-0.3,0.3-0.5,0.6-0.6c0.2-0.1,0.5-0.2,0.8-0.2h4.6c1.6,0,3-0.2,4.2-0.6c1.2-0.4,2.3-0.9,3.1-1.6c0.8-0.7,1.5-1.5,1.9-2.5c0.4-1,0.7-2,0.7-3.2c0-0.9-0.2-1.8-0.5-2.6c-0.3-0.8-0.7-1.5-1.3-2.1c-0.6-0.6-1.3-1.1-2.3-1.4c-0.9-0.3-2-0.5-3.3-0.5c-1.4,0-2.8,0.2-4,0.6c-1.3,0.4-2.4,0.9-3.4,1.4c-1,0.5-1.8,1-2.5,1.4c-0.7,0.4-1.2,0.7-1.5,0.7c-0.2,0-0.4,0-0.6-0.1c-0.2-0.1-0.3-0.3-0.4-0.6c-0.1-0.3-0.2-0.7-0.2-1.2c-0.1-0.5-0.1-1.2-0.1-2c0-0.7,0-1.3,0-1.7c0-0.5,0.1-0.8,0.2-1.1c0.1-0.3,0.2-0.6,0.3-0.8c0.1-0.2,0.3-0.5,0.6-0.7c0.3-0.3,0.8-0.7,1.7-1.2c0.8-0.5,1.9-1,3.2-1.5c1.3-0.5,2.8-0.9,4.5-1.3c1.7-0.3,3.5-0.5,5.5-0.5c2.6,0,4.9,0.3,6.8,0.9c2,0.6,3.7,1.5,5,2.6c1.4,1.1,2.4,2.5,3.1,4.2c0.7,1.7,1,3.5,1,5.6c0,1.6-0.2,3.1-0.6,4.5c-0.4,1.4-1,2.6-1.8,3.7c-0.8,1.1-1.8,2-3,2.8c-1.2,0.8-2.6,1.3-4.1,1.7v0.1c1.9,0.2,3.5,0.7,5,1.4c1.5,0.7,2.7,1.6,3.8,2.7c1,1.1,1.8,2.3,2.4,3.7C200,149.7,200.3,151.2,200.3,152.7z\"\r\n                />\r\n                <path\r\n                    fill={color}\r\n                    stroke={bgcolor}\r\n                    d=\"M249.6,141c0,4.9-0.6,9-1.9,12.5c-1.3,3.5-3.1,6.3-5.5,8.5c-2.4,2.2-5.3,3.8-8.7,4.8c-3.4,1-7.5,1.5-12.2,1.5h-12.7c-0.9,0-1.7-0.3-2.3-0.8c-0.6-0.5-0.9-1.4-0.9-2.6v-46.4c0-1.2,0.3-2.1,0.9-2.6c0.6-0.5,1.4-0.8,2.3-0.8h13.6c4.7,0,8.8,0.6,12.1,1.7c3.3,1.1,6.1,2.8,8.3,4.9c2.3,2.2,4,4.9,5.2,8.1C249,133,249.6,136.7,249.6,141z M238.5,141.3c0-2.5-0.3-4.9-0.9-7c-0.6-2.2-1.5-4-2.8-5.6c-1.3-1.6-3-2.8-5-3.7c-2-0.9-4.7-1.3-8-1.3h-5.5v36.2h5.6c3,0,5.5-0.4,7.5-1.2c2-0.8,3.7-1.9,5.1-3.5c1.4-1.5,2.4-3.5,3-5.8C238.1,147.1,238.5,144.4,238.5,141.3z\"\r\n                />\r\n                <path\r\n                    fill={color}\r\n                    stroke={bgcolor}\r\n                    d=\"M222.1,90.3h-34.9H61.4c-21.5,0-39,17.5-39,39v24.9c0,21.5,17.5,39,39,39h68.4h92.3c21.5,0,39-17.5,39-39v-24.9C261.1,107.8,243.6,90.3,222.1,90.3z M155.1,179.4c5-7,4.9-16.5,4.9-16.5v-42.5c0-15,12.2-27.2,27.2-27.2h34.9c19.8,0,36,16.1,36,36v24.9c0,19.8-16.1,36-36,36h-79.2C142.9,190.2,149.6,187.2,155.1,179.4z\"\r\n                />\r\n                <path d=\"M69.7,164.1c0,0.8,0,1.5-0.1,2c-0.1,0.5-0.2,1-0.3,1.3c-0.1,0.3-0.3,0.6-0.5,0.7c-0.2,0.2-0.4,0.2-0.7,0.2H41.4c-0.9,0-1.7-0.3-2.3-0.8c-0.6-0.5-0.9-1.4-0.9-2.6v-46.4c0-1.2,0.3-2.1,0.9-2.6c0.6-0.5,1.4-0.8,2.3-0.8H68c0.2,0,0.5,0.1,0.7,0.2c0.2,0.1,0.4,0.4,0.5,0.7c0.1,0.3,0.2,0.8,0.3,1.3c0.1,0.5,0.1,1.2,0.1,2c0,0.8,0,1.4-0.1,2c-0.1,0.5-0.2,1-0.3,1.3c-0.1,0.3-0.3,0.6-0.5,0.7c-0.2,0.2-0.4,0.2-0.7,0.2H49v13H65c0.2,0,0.5,0.1,0.7,0.2c0.2,0.2,0.4,0.4,0.5,0.7c0.1,0.3,0.2,0.7,0.3,1.3c0.1,0.5,0.1,1.2,0.1,2c0,0.8,0,1.5-0.1,2c-0.1,0.5-0.2,0.9-0.3,1.3c-0.1,0.3-0.3,0.5-0.5,0.7c-0.2,0.1-0.4,0.2-0.7,0.2H49v15h19.2c0.2,0,0.5,0.1,0.7,0.2c0.2,0.2,0.4,0.4,0.5,0.7c0.1,0.3,0.2,0.8,0.3,1.3C69.7,162.6,69.7,163.3,69.7,164.1z\" />\r\n                <path d=\"M109.4,152.4c0,2.8-0.5,5.2-1.6,7.4c-1,2.1-2.5,3.9-4.2,5.3c-1.8,1.4-3.9,2.5-6.2,3.2c-2.4,0.7-4.9,1.1-7.6,1.1c-1.8,0-3.5-0.2-5.1-0.5c-1.6-0.3-3-0.7-4.2-1.1c-1.2-0.4-2.2-0.9-3-1.3c-0.8-0.5-1.4-0.9-1.7-1.2c-0.4-0.4-0.6-0.9-0.8-1.5c-0.2-0.7-0.2-1.6-0.2-2.9c0-0.8,0-1.6,0.1-2.1c0.1-0.6,0.1-1,0.3-1.4c0.1-0.4,0.3-0.6,0.5-0.8c0.2-0.2,0.4-0.2,0.7-0.2c0.4,0,0.9,0.2,1.6,0.7c0.7,0.5,1.6,1,2.7,1.5c1.1,0.5,2.4,1,3.9,1.5c1.5,0.5,3.3,0.7,5.3,0.7c1.3,0,2.5-0.2,3.5-0.5c1-0.3,1.9-0.8,2.7-1.3c0.7-0.6,1.3-1.3,1.7-2.1c0.4-0.8,0.6-1.8,0.6-2.8c0-1.2-0.3-2.2-1-3.1c-0.7-0.9-1.5-1.6-2.6-2.3c-1.1-0.7-2.3-1.3-3.6-1.9c-1.3-0.6-2.7-1.2-4.2-1.9c-1.4-0.7-2.8-1.4-4.2-2.2c-1.3-0.8-2.5-1.8-3.6-3c-1.1-1.2-1.9-2.5-2.6-4.1c-0.7-1.6-1-3.5-1-5.7c0-2.5,0.5-4.8,1.4-6.7c0.9-1.9,2.2-3.5,3.8-4.8c1.6-1.3,3.5-2.2,5.7-2.9c2.2-0.6,4.5-0.9,6.9-0.9c1.3,0,2.5,0.1,3.8,0.3c1.3,0.2,2.4,0.5,3.5,0.8c1.1,0.3,2.1,0.7,2.9,1.1c0.8,0.4,1.4,0.8,1.7,1c0.3,0.3,0.5,0.5,0.6,0.7c0.1,0.2,0.2,0.4,0.2,0.8c0.1,0.3,0.1,0.7,0.1,1.2c0,0.5,0,1.1,0,1.8c0,0.8,0,1.5-0.1,2c0,0.5-0.1,1-0.2,1.4c-0.1,0.4-0.2,0.6-0.4,0.8c-0.2,0.2-0.4,0.2-0.7,0.2c-0.3,0-0.8-0.2-1.4-0.6c-0.7-0.4-1.5-0.8-2.4-1.3c-1-0.5-2.1-0.9-3.3-1.2c-1.3-0.4-2.6-0.6-4.2-0.6c-1.2,0-2.2,0.1-3.1,0.4c-0.9,0.3-1.6,0.7-2.2,1.2c-0.6,0.5-1,1.1-1.3,1.8c-0.3,0.7-0.4,1.5-0.4,2.3c0,1.2,0.3,2.2,1,3.1c0.6,0.9,1.5,1.6,2.6,2.3c1.1,0.7,2.3,1.3,3.7,1.9c1.4,0.6,2.8,1.2,4.2,1.9c1.4,0.7,2.8,1.4,4.2,2.2c1.4,0.8,2.6,1.8,3.7,3c1.1,1.2,1.9,2.5,2.6,4.1C109.1,148.4,109.4,150.2,109.4,152.4z\" />\r\n                <path d=\"M151.4,131.2c0,3-0.5,5.6-1.4,7.9c-0.9,2.3-2.3,4.2-4.1,5.8c-1.8,1.6-4,2.8-6.6,3.6c-2.6,0.8-5.6,1.2-9.1,1.2h-4.4v17c0,0.3-0.1,0.5-0.3,0.7c-0.2,0.2-0.5,0.4-0.9,0.5c-0.4,0.1-1,0.2-1.6,0.3c-0.7,0.1-1.6,0.1-2.6,0.1c-1,0-1.9,0-2.6-0.1c-0.7-0.1-1.3-0.2-1.7-0.3c-0.4-0.1-0.7-0.3-0.9-0.5c-0.2-0.2-0.2-0.5-0.2-0.7v-47.8c0-1.3,0.3-2.3,1-2.9c0.7-0.6,1.6-1,2.7-1h12.5c1.3,0,2.5,0,3.6,0.1c1.1,0.1,2.5,0.3,4.1,0.6c1.6,0.3,3.2,0.9,4.8,1.7c1.6,0.8,3,1.9,4.2,3.2c1.2,1.3,2,2.8,2.6,4.6C151.1,127.1,151.4,129,151.4,131.2z M140.1,132c0-1.9-0.3-3.4-1-4.6c-0.7-1.2-1.5-2.1-2.4-2.7c-1-0.6-2-0.9-3-1.1c-1.1-0.2-2.1-0.2-3.3-0.2h-4.6v18h4.8c1.7,0,3.2-0.2,4.3-0.7c1.2-0.5,2.1-1.1,2.9-2c0.7-0.8,1.3-1.8,1.7-3C139.9,134.6,140.1,133.3,140.1,132z\" />\r\n            </svg>\r\n        )\r\n}\r\n\r\nexport { AppLogo }\r\n","/*\r\n Router.js - ESP3D WebUI router file\r\n\r\n Copyright (c) 2021 Alexandre Aussourd. All rights reserved.\r\n modified by Luc LEBOSSE 2021\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h, Fragment } from \"preact\"\r\nimport { useState, useEffect, useCallback } from \"preact/hooks\"\r\nimport { Loading } from \"../Controls\"\r\nimport { useRouterContext } from \"../../contexts\"\r\n\r\nconst Router = ({ children, routesList, localDefault }) => {\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const {\r\n        setActiveRoute,\r\n        setRoutes,\r\n        activeRoute,\r\n        routes,\r\n        defaultRoute,\r\n        activeTab,\r\n    } = useRouterContext()\r\n\r\n    function parseLocation() {\r\n        if (typeof window !== \"undefined\") {\r\n            const location = window.location.hash.slice(1).toLowerCase()\r\n            if (location == \"/config\") {\r\n                if (window.location.protocol == \"file:\") {\r\n                    window.location.href =\r\n                        window.location.protocol +\r\n                        \"//\" +\r\n                        window.location.pathname +\r\n                        \"#\" +\r\n                        activeTab.current\r\n                } else {\r\n                    window.location.href = \"/#\" + activeTab.current\r\n                }\r\n                return activeTab.current\r\n            } else {\r\n                return location\r\n            }\r\n        } else {\r\n            return defaultRoute\r\n        }\r\n    }\r\n    const localDefaultRoute = localDefault\r\n        ? activeTab.current\r\n        : defaultRoute.current\r\n\r\n    const elements = Object.values(routesList)\r\n    const defaultElement = elements.find(\r\n        (element) => element.path == localDefaultRoute\r\n    )\r\n    const [ActiveComponent, setActiveComponent] = useState(\r\n        defaultElement.component\r\n    )\r\n\r\n    const handleHashChange = useCallback(() => {\r\n        setActiveRouteAndComp()\r\n    }, [])\r\n\r\n    const setActiveRouteAndComp = () => {\r\n        let found = false\r\n        setIsLoading(true)\r\n        const location = parseLocation().split(\"/\")\r\n        for (let i = 0; i < location.length; i++) {\r\n            const subLocation = location.slice(0, i + 1).join(\"/\")\r\n            for (const key in routesList) {\r\n                if (Object.prototype.hasOwnProperty.call(routesList, key)) {\r\n                    const element = routesList[key]\r\n                    if (\r\n                        element.path === subLocation ||\r\n                        subLocation.startsWith(element.path)\r\n                    ) {\r\n                        setActiveRoute(element.path)\r\n                        setActiveComponent(element.component)\r\n                        found = true\r\n                        setIsLoading(false)\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (!found) {\r\n            if (window.location.protocol == \"file:\") {\r\n                window.location.href =\r\n                    window.location.protocol +\r\n                    \"//\" +\r\n                    window.location.pathname +\r\n                    \"#\" +\r\n                    localDefaultRoute\r\n            } else {\r\n                window.location.href = \"/#\" + localDefaultRoute\r\n            }\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        setRoutes({ ...routes, ...routesList })\r\n        setActiveRouteAndComp()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (activeRoute.startsWith(\"/config/\")) {\r\n            if (activeTab.current != activeRoute) {\r\n                activeTab.current = activeRoute\r\n                setActiveRouteAndComp()\r\n            }\r\n        }\r\n    }, [activeRoute])\r\n\r\n    useEffect(() => {\r\n        setActiveRouteAndComp()\r\n        if (activeRoute.startsWith(\"/config/\")) {\r\n            activeTab.current = activeRoute\r\n        }\r\n        window.addEventListener(\"hashchange\", handleHashChange)\r\n        return () => window.removeEventListener(\"hashchange\", handleHashChange)\r\n    }, [])\r\n\r\n    return isLoading ? (\r\n        <Loading large />\r\n    ) : (\r\n        <Fragment>\r\n            {ActiveComponent}\r\n            {children}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nconst Link = ({\r\n    activeClassName = \"\",\r\n    className = \"\",\r\n    href,\r\n    children,\r\n    ...rest\r\n}) => {\r\n    const { activeRoute } = useRouterContext()\r\n    const [mergedClassName, setMergedClassName] = useState()\r\n\r\n    useEffect(() => {\r\n        const route = window.location.hash.slice(1).toLowerCase()\r\n        if (\r\n            (activeRoute == \"/config\" && href == route) ||\r\n            (route.startsWith(\"/config\") && href == \"/config\")\r\n        ) {\r\n            setMergedClassName(`${className} ${activeClassName}`)\r\n        } else\r\n            setMergedClassName(\r\n                activeRoute === href\r\n                    ? `${className} ${activeClassName}`\r\n                    : className\r\n            )\r\n    }, [activeRoute])\r\n\r\n    return (\r\n        mergedClassName && (\r\n            <a href={`#${href}`} className={mergedClassName} {...rest}>\r\n                {children}\r\n            </a>\r\n        )\r\n    )\r\n}\r\n\r\nexport { Router, Link }\r\n","/*\r\n Navbar.js - ESP3D WebUI navigation bar file\r\n\r\n\r\n Copyright (c) 2021 Luc Lebosse. All rights reserved.\r\n Original code inspiration : 2021 Alexandre Aussourd\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { Fragment, h } from \"preact\"\r\nimport { Settings } from \"preact-feather\"\r\nimport { AppLogo } from \"../Images/logo\"\r\nimport { Link } from \"../Router\"\r\nimport { T } from \"../Translations\"\r\n\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst defaultLinks = [\r\n    {\r\n        label: <AppLogo bgcolor=\"#ffffff\" />,\r\n        icon: null,\r\n        href: \"/about\",\r\n    },\r\n    {\r\n        label: \"Configurator\",\r\n        icon: <Settings/>,\r\n        href: \"/config\",\r\n        id:\"connfigLink\"\r\n    },\r\n   \r\n]\r\n\r\nconst Navbar = () => {\r\n\r\n        return (\r\n            <header class=\"navbar\">\r\n                <section class=\"navbar-section\">\r\n                    {defaultLinks &&\r\n                        defaultLinks.map(({ label, icon, href, id }) => {\r\n                            return (\r\n                                <Link\r\n                                    onclick={(e) => {\r\n                                        //TBD\r\n                                        }}\r\n                                    id={id}\r\n                                    className={\r\n                                        href == \"/about\"\r\n                                            ? \"navbar-brand logo no-box \"\r\n                                            : \"btn btn-link no-box feather-icon-container\"\r\n                                    }\r\n                                    activeClassName=\"active\"\r\n                                    href={href}\r\n                                >\r\n                                    {icon}\r\n                                    <label\r\n                                        class={\r\n                                            href == \"/about\" ? \"\" : \"hide-low\"\r\n                                        }\r\n                                    >\r\n                                        {T(label)}\r\n                                    </label>\r\n                                </Link>\r\n                            )\r\n                        })}\r\n                </section>\r\n\r\n            </header>\r\n        )\r\n\r\n}\r\n\r\nexport { Navbar }\r\n","/*\r\n menu.js - ESP3D WebUI Menu file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { Navbar } from \"../components/Navbar\"\r\n\r\nconst Menu = () => {\r\n    return (\r\n        <div id=\"menu\" class=\"menu-container\">\r\n            <Navbar />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { Menu }\r\n","/*\r\n version.js - ESP3D WebUI version file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nexport const Version = \"1.0.0-a1\"\r\n","import { h } from 'preact';\nexport const Github = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"path\", { d: \"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22\" })));\n};\n//# sourceMappingURL=github.js.map","/*\r\n about.js - ESP3D WebUI navigation page file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n Original code inspiration : 2021 Alexandre Aussourd\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { useState } from \"preact/hooks\"\r\nimport { Version } from \"../../components/App/version\"\r\nimport { T } from \"../../components/Translations\"\r\nimport { Github } from \"preact-feather\"\r\nimport { ButtonImg } from \"../../components/Controls\"\r\n\r\nconst About = () => {\r\n    console.log(\"about\")\r\n\r\n    return (\r\n        <div id=\"about\" class=\"container\">\r\n            <div style=\"min-height:200px;height:100%;display:flex; flex-flow: column; justify-content:center; align-items:middle\">\r\n                <center>\r\n                    <div class=\"m-2 text-primary\">\r\n                        ESP3D-Configurator V{Version}{\" \"}\r\n                        <ButtonImg\r\n                            icon={<Github />}\r\n                            onclick={() => {\r\n                                window.open(\r\n                                    \"https://github.com/luc-github/ESP3D-Configurator\",\r\n                                    \"_BLANK\"\r\n                                )\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    {T(\"about\")}\r\n                </center>\r\n            </div>\r\n            <br />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default About\r\n","import { h } from 'preact';\nexport const ArrowLeft = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"line\", { x1: \"19\", y1: \"12\", x2: \"5\", y2: \"12\" }),\n        h(\"polyline\", { points: \"12 19 5 12 12 5\" })));\n};\n//# sourceMappingURL=arrow-left.js.map","import { h } from 'preact';\nexport const ArrowRight = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"line\", { x1: \"5\", y1: \"12\", x2: \"19\", y2: \"12\" }),\n        h(\"polyline\", { points: \"12 5 19 12 12 19\" })));\n};\n//# sourceMappingURL=arrow-right.js.map","/*\r\n index.js - ESP3D WebUI navigation tab file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { Fragment, h } from \"preact\"\r\nimport { useState, useEffect } from \"preact/hooks\"\r\nimport {\r\n    FieldGroup,\r\n    Field,\r\n    ButtonImg,\r\n    Loading,\r\n} from \"../../components/Controls\"\r\nimport { T } from \"../../components/Translations\"\r\nimport {\r\n    useDatasContext,\r\n    useDatasContextFn,\r\n    useUiContext,\r\n} from \"../../contexts\"\r\nimport { ArrowLeft, ArrowRight } from \"preact-feather\"\r\n\r\nimport pinsList from \"./pins.json\"\r\n\r\nconst usedPinsList = {}\r\nusedPinsList.current = []\r\n\r\nconst removeUsedPin = (pin) => {\r\n    if (pin == \"-1\") return\r\n    usedPinsList.current = usedPinsList.current.filter(\r\n        (element) => element != pin\r\n    )\r\n}\r\nconst addUsedPin = (pin) => {\r\n    if (pin == \"-1\") return\r\n    usedPinsList.current.push(pin)\r\n}\r\n\r\nconst mergePinsOptions = (pins, options) => {\r\n    if (pins) {\r\n        const newList = JSON.parse(JSON.stringify(pins))\r\n        if (options) {\r\n            options.forEach((option) => {\r\n                const index = newList.findIndex((element) => {\r\n                    return element.value == option.value\r\n                })\r\n                if (index > -1) {\r\n                    //just update depend label and value should stay the same\r\n                    newList[index].depend = option.depend\r\n                } else {\r\n                    //allow to add new option\r\n                    newList.push(option)\r\n                }\r\n            })\r\n        }\r\n        return newList\r\n    }\r\n    return null\r\n}\r\n\r\nconst getHelp = (item, value) => {\r\n    if (item) {\r\n        const index = item.findIndex((element) => {\r\n            return element.value == value\r\n        })\r\n        if (index > -1) return item[index].help\r\n    }\r\n    return null\r\n}\r\n\r\nconst canshow = (depend, pinvalue, currentvalue) => {\r\n    if (pinvalue && pinvalue != \"-1\") {\r\n        if (pinvalue == currentvalue && canshow(depend)) return true\r\n        if (usedPinsList.current.includes(pinvalue)) return false\r\n    }\r\n    if (depend) {\r\n        const val = useDatasContextFn.getValueId(depend.id)\r\n        if (depend.value) {\r\n            return depend.value.includes(val)\r\n        }\r\n        if (depend.notvalue) {\r\n            return !depend.notvalue.includes(val)\r\n        }\r\n    }\r\n    return true\r\n}\r\n\r\nconst NavButtons = ({ previous, next }) => {\r\n    return (\r\n        <div style=\"display:flex;justify-content:space-around\">\r\n            {previous && (\r\n                <ButtonImg\r\n                    m2\r\n                    label={T(\"Previous\")}\r\n                    icon={<ArrowLeft />}\r\n                    onclick={() => {\r\n                        if (document.getElementById(previous)) {\r\n                            document.getElementById(previous).click()\r\n                        }\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            {next && (\r\n                <ButtonImg\r\n                    m2\r\n                    label={T(\"Next\")}\r\n                    icon={<ArrowRight />}\r\n                    iconRight\r\n                    onclick={() => {\r\n                        if (document.getElementById(next)) {\r\n                            document.getElementById(next).click()\r\n                        }\r\n                    }}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst StepTab = ({ previous, current, next }) => {\r\n    const { configuration } = useDatasContext()\r\n    const generateValidation = (fieldData) => {\r\n        const validation = {\r\n            message: \"\",\r\n            valid: true,\r\n            modified: false,\r\n        }\r\n        return validation\r\n    }\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    useEffect(() => {\r\n        setIsLoading(false)\r\n    }, [])\r\n    return (\r\n        <div id={current} class=\"m-2\">\r\n            {isLoading && <Loading large />}\r\n            {!isLoading && (\r\n                <div class=\"center\">\r\n                    <NavButtons previous={previous} next={next} />\r\n                    {configuration.current[current] &&\r\n                        configuration.current[current].map((element, index) => {\r\n                            if (element.type === \"group\") {\r\n                                if (!canshow(element.depend)) return null\r\n\r\n                                return (\r\n                                    <FieldGroup\r\n                                        id={element.id}\r\n                                        label={T(element.label)}\r\n                                    >\r\n                                        {element.value.map(\r\n                                            (subelement, subindex) => {\r\n                                                if (!canshow(subelement.depend))\r\n                                                    return null\r\n                                                if (\r\n                                                    typeof subelement.initial ===\r\n                                                    \"undefined\"\r\n                                                )\r\n                                                    subelement.initial =\r\n                                                        subelement.value\r\n                                                const {\r\n                                                    label,\r\n                                                    initial,\r\n                                                    type,\r\n                                                    options,\r\n                                                    value,\r\n                                                    ...rest\r\n                                                } = subelement\r\n                                                const optionsList =\r\n                                                    subelement.ispin\r\n                                                        ? mergePinsOptions(\r\n                                                              pinsList,\r\n                                                              options\r\n                                                          )\r\n                                                        : options\r\n                                                const filteredOptions =\r\n                                                    optionsList\r\n                                                        ? optionsList.filter(\r\n                                                              (opt) => {\r\n                                                                  return canshow(\r\n                                                                      opt.depend,\r\n                                                                      subelement.ispin\r\n                                                                          ? opt.value\r\n                                                                          : null,\r\n                                                                      subelement.ispin\r\n                                                                          ? subelement.value\r\n                                                                          : null\r\n                                                                  )\r\n                                                              }\r\n                                                          )\r\n                                                        : null\r\n                                                if (\r\n                                                    filteredOptions &&\r\n                                                    filteredOptions.findIndex(\r\n                                                        (op) =>\r\n                                                            op.value ==\r\n                                                            subelement.value\r\n                                                    ) == -1\r\n                                                ) {\r\n                                                    if (subelement.ispin) {\r\n                                                        removeUsedPin(\r\n                                                            subelement.value\r\n                                                        )\r\n                                                    }\r\n                                                    subelement.value =\r\n                                                        filteredOptions[0].value\r\n                                                }\r\n                                                const [help, setHelp] =\r\n                                                    useState(\r\n                                                        subelement.options\r\n                                                            ? getHelp(\r\n                                                                  optionsList,\r\n                                                                  subelement.value\r\n                                                              )\r\n                                                            : subelement.description\r\n                                                    )\r\n                                                const [\r\n                                                    validation,\r\n                                                    setvalidation,\r\n                                                ] = useState()\r\n                                                //workaround to useState not always updating help at begining and use another one from another page...\r\n                                                useEffect(() => {\r\n                                                    setHelp(\r\n                                                        optionsList\r\n                                                            ? getHelp(\r\n                                                                  optionsList,\r\n                                                                  subelement.value\r\n                                                              )\r\n                                                            : subelement.description\r\n                                                    )\r\n                                                }, [])\r\n                                                useEffect(() => {\r\n                                                    setHelp(\r\n                                                        optionsList\r\n                                                            ? getHelp(\r\n                                                                  optionsList,\r\n                                                                  subelement.value\r\n                                                              )\r\n                                                            : subelement.description\r\n                                                    )\r\n                                                }, [subelement.value, current])\r\n                                                return (\r\n                                                    <Fragment>\r\n                                                        <Field\r\n                                                            inline\r\n                                                            className=\"fit-content\"\r\n                                                            label={T(label)}\r\n                                                            options={\r\n                                                                filteredOptions\r\n                                                            }\r\n                                                            value={value}\r\n                                                            type={type}\r\n                                                            {...rest}\r\n                                                            validationfn={\r\n                                                                generateValidation\r\n                                                            }\r\n                                                            setValue={(\r\n                                                                val,\r\n                                                                update = false\r\n                                                            ) => {\r\n                                                                if (!update) {\r\n                                                                    if (\r\n                                                                        subelement.ispin\r\n                                                                    ) {\r\n                                                                        removeUsedPin(\r\n                                                                            subelement.value\r\n                                                                        )\r\n                                                                        addUsedPin(\r\n                                                                            val\r\n                                                                        )\r\n                                                                        console.log(\r\n                                                                            usedPinsList.current\r\n                                                                        )\r\n                                                                    }\r\n                                                                    subelement.value =\r\n                                                                        val\r\n\r\n                                                                    setHelp(\r\n                                                                        options\r\n                                                                            ? getHelp(\r\n                                                                                  optionsList,\r\n                                                                                  val\r\n                                                                              )\r\n                                                                            : subelement.description\r\n                                                                    )\r\n                                                                }\r\n                                                                setvalidation(\r\n                                                                    generateValidation(\r\n                                                                        subelement\r\n                                                                    )\r\n                                                                )\r\n                                                            }}\r\n                                                            validation={\r\n                                                                validation\r\n                                                            }\r\n                                                        />\r\n                                                        {help && (\r\n                                                            <div class=\"m-1\">\r\n                                                                {help}\r\n                                                            </div>\r\n                                                        )}\r\n                                                        {subelement.usedescforoptions && (\r\n                                                            <div class=\"m-1\">\r\n                                                                {\r\n                                                                    subelement.description\r\n                                                                }\r\n                                                            </div>\r\n                                                        )}\r\n                                                        <div\r\n                                                            class=\"m-1 divider\"\r\n                                                            style=\"border-color: #dadee4\"\r\n                                                        />\r\n                                                    </Fragment>\r\n                                                )\r\n                                            }\r\n                                        )}\r\n                                    </FieldGroup>\r\n                                )\r\n                            } else {\r\n                                return <Fragment>{element.label}</Fragment>\r\n                            }\r\n                        })}\r\n                    <NavButtons previous={previous} next={next} />\r\n                    <br />\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { StepTab }\r\n","import { h } from 'preact';\nexport const Save = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"path\", { d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\" }),\n        h(\"polyline\", { points: \"17 21 17 13 7 13 7 21\" }),\n        h(\"polyline\", { points: \"7 3 7 8 15 8\" })));\n};\n//# sourceMappingURL=save.js.map","/*\r\n index.js - ESP3D WebUI navigation tab file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nconst header =\r\n    '\\n\\\r\n/*\\n\\\r\n  configuration.h - ESP3D configuration file\\n\\\r\n\\n\\\r\n  Copyright (c) 2014 Luc Lebosse. All rights reserved.\\n\\\r\n\\n\\\r\n  This code is free software; you can redistribute it and/or\\n\\\r\n  modify it under the terms of the GNU Lesser General Public\\n\\\r\n  License as published by the Free Software Foundation; either\\n\\\r\n  version 2.1 of the License, or (at your option) any later version.\\n\\\r\n\\n\\\r\n  This code is distributed in the hope that it will be useful,\\n\\\r\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\\n\\\r\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n\\\r\n  Lesser General Public License for more details.\\n\\\r\n\\n\\\r\n  You should have received a copy of the GNU Lesser General Public\\n\\\r\n  License along with This code; if not, write to the Free Software\\n\\\r\n  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\\n\\\r\n*/\\n\\\r\n#ifndef _CONFIGURATION_H\\n\\\r\n#define _CONFIGURATION_H\\n\\\r\n//Setup station as default, use AP mode first if not done\\n\\\r\n//Note: need both defined to enable it\\n\\\r\n//Uncomment and edit them to define\\n\\\r\n//#define STATION_WIFI_SSID \"*********\"\\n\\\r\n//#define STATION_WIFI_PASSWORD \"*********\"\\n\\\r\n\\n\\\r\n//You can also use a different config file for SSID/password\\n\\\r\n//Just save it in same location as this configuration.h\\n\\\r\n//This file is ignored by github\\n\\\r\n#if defined __has_include\\n\\\r\n#  if __has_include (\"myconfig.h\")\\n\\\r\n#    include \"myconfig.h\"\\n\\\r\n#  endif\\n\\\r\n#endif\\n\\\r\n\\n\\\r\n'\r\n\r\nexport default header\r\n","/*\r\n index.js - ESP3D WebUI navigation tab file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nconst footer =\r\n    '\\n\\\r\n\\n\\\r\n\\n/************************************\\n\\\r\n*\\n\\\r\n* Development setting \\n\\\r\n* Do not modify them for production \\n\\\r\n************************************/\\n\\\r\n\\n\\\r\n//Enable debug mode\\n\\\r\n//Do not do this when connected to printer !!!\\n\\\r\n//be noted all upload may failed if enabled\\n\\\r\n//DEBUG_OUTPUT_SERIAL0\\n\\\r\n//DEBUG_OUTPUT_SERIAL1\\n\\\r\n//DEBUG_OUTPUT_SERIAL2\\n\\\r\n//DEBUG_OUTPUT_TELNET\\n\\\r\n//DEBUG_OUTPUT_WEBSOCKET\\n\\\r\n//#define ESP_DEBUG_FEATURE DEBUG_OUTPUT_SERIAL0\\n\\\r\n\\n\\\r\n#ifdef ESP_DEBUG_FEATURE\\n\\\r\n#define DEBUG_BAUDRATE 115200\\n\\\r\n#define DEBUG_ESP3D_OUTPUT_PORT  8000\\n\\\r\n#endif //ESP_DEBUG_FEATURE\\n\\\r\n\\n\\\r\n//Enable benchmark report in dev console\\n\\\r\n//#define ESP_BENCHMARK_FEATURE\\n\\\r\n\\n\\\r\n//Disable sanity check at compilation\\n\\\r\n//#define ESP_NO_SANITY_CHECK\\n\\\r\n\\n\\\r\n\\n/************************************\\n\\\r\n*\\n\\\r\n* Sanity checks \\n\\\r\n* Do not modify \\n\\\r\n************************************/\\n\\\r\n\\n\\\r\n#if defined (SD_TIMESTAMP_FEATURE) || defined (FILESYSTEM_TIMESTAMP_FEATURE)\\n\\\r\n    #define TIMESTAMP_FEATURE true\\n\\\r\n#endif //SD_TIMESTAMP_FEATURE || FILESYSTEM_TIMESTAMP_FEATURE \\n\\\r\n\\n\\\r\n#if defined(PRINTER_HAS_DISPLAY)\\n\\\r\n#define HAS_SERIAL_DISPLAY \"\"\\n\\\r\n#endif // PRINTER_HAS_DISPLAY\\n\\\r\n\\n\\\r\n#if defined(CAMERA_DEVICE)\\n\\\r\n#if CAMERA_DEVICE==CAMERA_MODEL_ESP32_CAM_BOARD || CAMERA_DEVICE==CAMERA_MODEL_ESP32S2_CAM_BOARD\\n\\\r\n#define USE_BOARD_HEARDER 1\\n\\\r\n#endif // CAMERA_DEVICE==CAMERA_MODEL_ESP32_CAM_BOARD || CAMERA_DEVICE==CAMERA_MODEL_ESP32S2_CAM_BOARD\\n\\\r\n#endif // CAMERA_DEVICE\\n\\\r\n\\n\\\r\n#if !defined(WIFI_FEATURE) && !defined(ETH_FEATURE)\\n\\\r\n#undef HTTP_FEATURE\\n\\\r\n#undef TELNET_FEATURE\\n\\\r\n#undef WEBDAV_FEATURE\\n\\\r\n#undef FTP_FEATURE\\n\\\r\n#undef WEB_UPDATE_FEATURE\\n\\\r\n#undef CAPTIVE_PORTAL_FEATURE\\n\\\r\n#undef SSDP_FEATURE\\n\\\r\n#undef MDNS_FEATURE\\n\\\r\n#undef NOTIFICATION_FEATURE\\n\\\r\n#endif\\n\\\r\n\\n\\\r\n#endif //_CONFIGURATION_H\\n\\\r\n'\r\nexport default footer\r\n","/*\r\n index.js - ESP3D WebUI navigation tab file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { Fragment, h } from \"preact\"\r\n\r\nimport { T } from \"../../components/Translations\"\r\nimport { ButtonImg } from \"../../components/Controls\"\r\nimport { Save, ArrowLeft, Eye } from \"preact-feather\"\r\nimport {\r\n    useDatasContext,\r\n    useUiContext,\r\n    useDatasContextFn,\r\n} from \"../../contexts\"\r\nimport header from \"./header\"\r\nimport footer from \"./footer\"\r\nimport { Version } from \"../../components/App/version\"\r\nimport { useEffect, useState } from \"preact/hooks\"\r\n\r\nconst configurationFile = (data) => {\r\n    return (\r\n        `// This file was generated by ESP3D-Configurator V${Version} \\n` +\r\n        header +\r\n        convertToText(data) +\r\n        footer\r\n    )\r\n}\r\n\r\nconst sectionFormated = (title, description) => {\r\n    return `\\n/************************************\\n*\\n* ${title}\\n*\\n* ${description}\\n*\\n************************************/\\n`\r\n}\r\n\r\nconst getLabel = (item, value) => {\r\n    if (item) {\r\n        const index = item.findIndex((element) => {\r\n            return element.value == value\r\n        })\r\n        if (index > -1) return item[index].label\r\n    }\r\n    return null\r\n}\r\n\r\nconst getHelp = (item, value) => {\r\n    if (item) {\r\n        const index = item.findIndex((element) => {\r\n            return element.value == value\r\n        })\r\n        if (index > -1) return item[index].help\r\n    }\r\n    return null\r\n}\r\n\r\nconst canshow = (depend, pinvalue, currentvalue) => {\r\n    if (pinvalue && pinvalue != \"-1\") {\r\n        if (pinvalue == currentvalue && canshow(depend)) return true\r\n        if (usedPinsList.current.includes(pinvalue)) return false\r\n    }\r\n    if (depend) {\r\n        const val = useDatasContextFn.getValueId(depend.id)\r\n        if (depend.value) {\r\n            return depend.value.includes(val)\r\n        }\r\n        if (depend.notvalue) {\r\n            return !depend.notvalue.includes(val)\r\n        }\r\n    }\r\n    return true\r\n}\r\n\r\nconst convertToText = (data) => {\r\n    let config = \"\"\r\n    return Object.keys(data).reduce((acc, item) => {\r\n        return data[item].reduce((acc2, item2) => {\r\n            if (item2.type == \"group\") {\r\n                const content = item2.value.reduce((acc3, element) => {\r\n                    if (!canshow(element.depend)) return acc3\r\n                    if (element.setting) {\r\n                        if (\r\n                            element.value == \"-1\" ||\r\n                            (!element.value && element.disableiffalse)\r\n                        )\r\n                            return acc3\r\n                        if (element.type == \"select\") {\r\n                            const help = getHelp(element.options, element.value)\r\n                            const label = getLabel(\r\n                                element.options,\r\n                                element.value\r\n                            )\r\n\r\n                            return (\r\n                                acc3 +\r\n                                `\\n// ${element.label}\\n` +\r\n                                `${\r\n                                    help\r\n                                        ? \"// \" + help + \"\\n\"\r\n                                        : label\r\n                                        ? \"// \" + label + \"\\n\"\r\n                                        : \"\"\r\n                                }` +\r\n                                `${\r\n                                    element.usedescforoptions\r\n                                        ? \"// \" + element.description + \"\\n\"\r\n                                        : \"\"\r\n                                }` +\r\n                                `#define ${element.define} ${element.value}\\n`\r\n                            )\r\n                        }\r\n                        if (element.type == \"boolean\") {\r\n                            return (\r\n                                acc3 +\r\n                                `\\n// ${element.label}\\n` +\r\n                                `// ${element.description}\\n` +\r\n                                `#define ${element.define} ${element.value}\\n`\r\n                            )\r\n                        }\r\n                        if (element.type == \"text\") {\r\n                            return (\r\n                                acc3 +\r\n                                `\\n// ${element.label}\\n` +\r\n                                `// ${element.description}\\n` +\r\n                                `#define ${element.define} ${\r\n                                    element.needquote ? '\"' : \"\"\r\n                                }${element.value}${\r\n                                    element.needquote ? '\"' : \"\"\r\n                                }\\n`\r\n                            )\r\n                        }\r\n                    } else {\r\n                        return (\r\n                            acc3 +\r\n                            `// ${element.label}=${getLabel(\r\n                                element.options,\r\n                                element.value\r\n                            )}\\n`\r\n                        )\r\n                    }\r\n                }, \"\")\r\n                return content.length == 0\r\n                    ? acc2\r\n                    : acc2 +\r\n                          sectionFormated(item2.label, item2.description) +\r\n                          content\r\n            } else {\r\n                console.log(\"Group definition is missing for \" + item2.label)\r\n            }\r\n        }, acc)\r\n    }, config)\r\n}\r\n\r\nconst exportFile = (filecontent, filename) => {\r\n    const file = new Blob([filecontent], {\r\n        type: \"application/txt\",\r\n    })\r\n    if (window.navigator.msSaveOrOpenBlob)\r\n        // IE10+\r\n        window.navigator.msSaveOrOpenBlob(file, filename)\r\n    else {\r\n        // Others\r\n        const a = document.createElement(\"a\")\r\n        const url = URL.createObjectURL(file)\r\n        a.href = url\r\n        a.download = filename\r\n        document.body.appendChild(a)\r\n        a.click()\r\n        setTimeout(function () {\r\n            document.body.removeChild(a)\r\n            window.URL.revokeObjectURL(url)\r\n        }, 0)\r\n    }\r\n}\r\n\r\nlet showconfig = false\r\n\r\nconst NavButtons = ({ previous, next }) => {\r\n    const { configuration } = useDatasContext()\r\n    return (\r\n        <div style=\"display:flex;justify-content:space-around\">\r\n            {previous && (\r\n                <ButtonImg\r\n                    m2\r\n                    icon={<ArrowLeft />}\r\n                    label=\"Previous\"\r\n                    onclick={() => {\r\n                        if (document.getElementById(previous)) {\r\n                            document.getElementById(previous).click()\r\n                        }\r\n                    }}\r\n                />\r\n            )}\r\n            <ButtonImg\r\n                m2\r\n                icon={<Save />}\r\n                label={T(\"Download configuration.h\")}\r\n                onclick={() => {\r\n                    exportFile(\r\n                        configurationFile(configuration.current),\r\n                        \"configuration.h\"\r\n                    )\r\n                }}\r\n            />\r\n            <ButtonImg\r\n                m2\r\n                icon={<Eye />}\r\n                label={T(\"Download WebUI\")}\r\n                onclick={() => {\r\n                    const targetfw = useDatasContextFn.getValue(\r\n                        \"features\",\r\n                        \"targetFW\",\r\n                        \"defaultfw\"\r\n                    )\r\n                    const targetFwName = {\r\n                        MARLIN: \"Marlin\",\r\n                        GRBL: \"GRBL\",\r\n                        REPETIER: \"Repetier\",\r\n                        SMOOTHIEWARE: \"Smoothieware\",\r\n                    }\r\n                    const targetsystem = useDatasContextFn.getValue(\r\n                        \"features\",\r\n                        \"targetFW\",\r\n                        \"systemtype\"\r\n                    )\r\n                    if (targetfw == \"UNKNOWN_FW\") {\r\n                        window.open(\r\n                            \"https://github.com/luc-github/ESP3D-WEBUI/tree/3.0/dist/\",\r\n                            \"_blank\"\r\n                        )\r\n                    } else {\r\n                        window.open(\r\n                            `https://github.com/luc-github/ESP3D-WEBUI/blob/3.0/dist/${targetsystem}/${targetFwName[targetfw]}/index.html.gz?raw=true`,\r\n                            \"_blank\"\r\n                        )\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst GenerateTab = ({ previous }) => {\r\n    const { configuration } = useDatasContext()\r\n    const [showContent, setshowContent] = useState(showconfig)\r\n    return (\r\n        <div id=\"generate\" class=\"m-2\">\r\n            <NavButtons previous={previous} />\r\n            <div class=\"accordion\">\r\n                <input\r\n                    type=\"checkbox\"\r\n                    id=\"accordion-1\"\r\n                    name=\"accordion-checkbox\"\r\n                    hidden\r\n                />\r\n                <label\r\n                    class=\"accordion-header\"\r\n                    for=\"accordion-1\"\r\n                    style=\"cursor:pointer\"\r\n                    onclick={() => {\r\n                        showconfig = !showconfig\r\n                        setshowContent(showconfig)\r\n                    }}\r\n                >\r\n                    {!showContent && <i class=\"icon icon-arrow-right mr-1\"></i>}\r\n                    {showContent && <i class=\"icon icon-arrow-down mr-1\"></i>}\r\n                    Configuration.h\r\n                </label>\r\n                {showContent && (\r\n                    <div class=\"accordion-body\">\r\n                        <code>\r\n                            <pre>\r\n                                {configurationFile(configuration.current)}\r\n                            </pre>\r\n                        </code>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {showContent && <NavButtons previous={previous} />}\r\n            <br />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { GenerateTab }\r\n","import { h } from 'preact';\nexport const Wifi = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"path\", { d: \"M5 12.55a11 11 0 0 1 14.08 0\" }),\n        h(\"path\", { d: \"M1.42 9a16 16 0 0 1 21.16 0\" }),\n        h(\"path\", { d: \"M8.53 16.11a6 6 0 0 1 6.95 0\" }),\n        h(\"line\", { x1: \"12\", y1: \"20\", x2: \"12.01\", y2: \"20\" })));\n};\n//# sourceMappingURL=wifi.js.map","import { h } from 'preact';\nexport const HardDrive = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"line\", { x1: \"22\", y1: \"12\", x2: \"2\", y2: \"12\" }),\n        h(\"path\", { d: \"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\" }),\n        h(\"line\", { x1: \"6\", y1: \"16\", x2: \"6.01\", y2: \"16\" }),\n        h(\"line\", { x1: \"10\", y1: \"16\", x2: \"10.01\", y2: \"16\" })));\n};\n//# sourceMappingURL=hard-drive.js.map","import { h } from 'preact';\nexport const Upload = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" }),\n        h(\"polyline\", { points: \"17 8 12 3 7 8\" }),\n        h(\"line\", { x1: \"12\", y1: \"3\", x2: \"12\", y2: \"15\" })));\n};\n//# sourceMappingURL=upload.js.map","import { h } from 'preact';\nexport const Camera = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"path\", { d: \"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\" }),\n        h(\"circle\", { cx: \"12\", cy: \"13\", r: \"4\" })));\n};\n//# sourceMappingURL=camera.js.map","import { h } from 'preact';\nexport const Lock = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"rect\", { x: \"3\", y: \"11\", width: \"18\", height: \"11\", rx: \"2\", ry: \"2\" }),\n        h(\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\" })));\n};\n//# sourceMappingURL=lock.js.map","import { h } from 'preact';\nexport const Tool = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"path\", { d: \"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z\" })));\n};\n//# sourceMappingURL=tool.js.map","import { h } from 'preact';\nexport const Download = (props) => {\n    const color = props.color || 'currentColor';\n    const size = props.size || 24;\n    delete props.color;\n    delete props.size;\n    return (h(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", width: size, height: size, viewBox: \"0 0 24 24\", fill: \"none\", stroke: color, \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" }, props),\n        h(\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" }),\n        h(\"polyline\", { points: \"7 10 12 15 17 10\" }),\n        h(\"line\", { x1: \"12\", y1: \"15\", x2: \"12\", y2: \"3\" })));\n};\n//# sourceMappingURL=download.js.map","/*\r\nTabBar.js - ESP3D WebUI Tabs bar file\r\n\r\n Copyright (c) 2021 Luc Lebosse. All rights reserved.\r\n Original code inspiration : 2021 Alexandre Aussourd\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { Link } from \"../Router\"\r\nimport { T } from \"../Translations\"\r\nimport { AppLogo } from \"../Images/logo\"\r\nimport { useUiContext, useUiContextFn } from \"../../contexts\"\r\nimport {\r\n    Camera,\r\n    Download,\r\n    HardDrive,\r\n    Tool,\r\n    Wifi,\r\n    Lock,\r\n    Upload,\r\n} from \"preact-feather\"\r\n\r\n/*\r\n * Local const\r\n *\r\n */\r\nconst defaultLinks = [\r\n    {\r\n        label: \"Features\",\r\n        icon: <AppLogo height=\"24px\" />,\r\n        href: \"/config/features\",\r\n        id: \"featuresLink\",\r\n    },\r\n    {\r\n        label: \"Network\",\r\n        icon: <Wifi />,\r\n        href: \"/config/network\",\r\n        id: \"networkLink\",\r\n    },\r\n    {\r\n        label: \"Filesystems\",\r\n        icon: <HardDrive />,\r\n        href: \"/config/filesystems\",\r\n        id: \"filesystemsLink\",\r\n    },\r\n    {\r\n        label: \"Update\",\r\n        icon: <Upload />,\r\n        href: \"/config/update\",\r\n        id: \"updateLink\",\r\n    },\r\n    {\r\n        label: \"Devices\",\r\n        icon: <Camera />,\r\n        href: \"/config/devices\",\r\n        id: \"devicesLink\",\r\n    },\r\n\r\n    {\r\n        label: \"Security\",\r\n        icon: <Lock />,\r\n        href: \"/config/security\",\r\n        id: \"securityLink\",\r\n    },\r\n    {\r\n        label: \"Others\",\r\n        icon: <Tool />,\r\n        href: \"/config/others\",\r\n        id: \"othersLink\",\r\n    },\r\n    {\r\n        label: \"Download\",\r\n        icon: <Download />,\r\n        href: \"/config/generate\",\r\n        id: \"generateLink\",\r\n    },\r\n]\r\nconst TabBar = () => {\r\n    const { uisettings } = useUiContext()\r\n    return (\r\n        <ul class=\"tab tab-block\">\r\n            {defaultLinks &&\r\n                defaultLinks.map(({ label, icon, href, id }) => {\r\n                    return (\r\n                        <li class=\"tab-item\">\r\n                            <Link\r\n                                id={id}\r\n                                className=\"btn btn-link no-box feather-icon-container\"\r\n                                activeClassName=\"active\"\r\n                                href={href}\r\n                                onclick={(e) => {\r\n                                    //TBD\r\n                                }}\r\n                            >\r\n                                {icon}\r\n                                <label class=\"hide-low\">{T(label)}</label>\r\n                            </Link>\r\n                        </li>\r\n                    )\r\n                })}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport { TabBar }\r\n","/*\r\n settings.js - ESP3D WebUI navigation page file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n Original code inspiration : 2021 Alexandre Aussourd\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport { Router } from \"../../components/Router\"\r\nimport { StepTab } from \"../../tabs/step\"\r\nimport { GenerateTab } from \"../../tabs/generate\"\r\nimport { TabBar } from \"../../components/TabBar\"\r\nimport { T } from \"../../components/Translations\"\r\n\r\nconst routes = {\r\n    FEATURES: {\r\n        component: <StepTab current=\"features\" next=\"networkLink\" />,\r\n        path: \"/config/features\",\r\n    },\r\n    NETWORK: {\r\n        component: (\r\n            <StepTab\r\n                current=\"network\"\r\n                previous=\"featuresLink\"\r\n                next=\"filesystemsLink\"\r\n            />\r\n        ),\r\n        path: \"/config/network\",\r\n    },\r\n    FILESYSTEMS: {\r\n        component: (\r\n            <StepTab\r\n                current=\"filesystems\"\r\n                previous=\"networkLink\"\r\n                next=\"updateLink\"\r\n            />\r\n        ),\r\n        path: \"/config/filesystems\",\r\n    },\r\n    UPDATE: {\r\n        component: (\r\n            <StepTab\r\n                current=\"update\"\r\n                previous=\"filesystemsLink\"\r\n                next=\"devicesLink\"\r\n            />\r\n        ),\r\n        path: \"/config/update\",\r\n    },\r\n    DEVICES: {\r\n        component: (\r\n            <StepTab\r\n                current=\"devices\"\r\n                previous=\"updateLink\"\r\n                next=\"securityLink\"\r\n            />\r\n        ),\r\n        path: \"/config/devices\",\r\n    },\r\n    SECURITY: {\r\n        component: (\r\n            <StepTab\r\n                current=\"security\"\r\n                previous=\"devicesLink\"\r\n                next=\"othersLink\"\r\n            />\r\n        ),\r\n        path: \"/config/security\",\r\n    },\r\n    OTHERS: {\r\n        component: (\r\n            <StepTab\r\n                current=\"others\"\r\n                previous=\"securityLink\"\r\n                next=\"generateLink\"\r\n            />\r\n        ),\r\n        path: \"/config/others\",\r\n    },\r\n    GENERATE: {\r\n        component: <GenerateTab previous=\"othersLink\" />,\r\n        path: \"/config/generate\",\r\n    },\r\n}\r\n\r\nconst Config = () => {\r\n    return (\r\n        <div id=\"settings\" class=\"container\">\r\n            <TabBar />\r\n            <Router routesList={routes} localDefault={\"/config/features\"} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Config\r\n","/*\r\n footer.js - ESP3D WebUI footer file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\n//Nothing for the moment\r\nconst FooterContainer = () => {\r\n    return <div class=\"footer-container\" />\r\n}\r\n\r\nexport { FooterContainer }\r\n","/*\r\n main.js - ESP3D WebUI MainPage file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n  Original code inspiration : 2021 Alexandre Aussourd\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\n\r\nimport { useState, useEffect, useRef } from \"preact/hooks\"\r\nimport { Router } from \"../components/Router\"\r\nimport { useUiContext} from \"../contexts\"\r\nimport About from \"../pages/about\"\r\nimport Config from \"../pages/config\"\r\n\r\n\r\nimport { FooterContainer } from \"./footer\"\r\n\r\nconst defRoutes = {\r\n    ABOUT: {\r\n        component: <About />,\r\n        path: \"/about\",\r\n    },\r\n    Config: {\r\n        component: <Config />,\r\n        path: \"/config\",\r\n    },\r\n}\r\n\r\nconst MainContainer = () => {\r\n    const { uisettings, modals } = useUiContext()\r\n    const [routes, setRoutes] = useState({ ...defRoutes })\r\n    return (\r\n        <div id=\"main\" class=\"main-page-container\">\r\n            <Router routesList={routes} />\r\n            <FooterContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { MainContainer }\r\n","/*\r\n index.js - ESP3D WebUI areas file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h, Fragment } from \"preact\"\r\nimport { Menu } from \"./menu\"\r\n\r\nimport { MainContainer } from \"./main\"\r\nimport { useUiContext, useUiContextFn } from \"../contexts/UiContext\"\r\nimport { useEffect } from \"preact/hooks\"\r\nimport { showModal } from \"../components/Modal\"\r\nimport { T, baseLangRessource } from \"../components/Translations\"\r\nimport { HelpCircle, Layout } from \"preact-feather\"\r\n/*\r\n * Local const\r\n *\r\n */\r\n\r\nconst ViewContainer = () => {\r\n        return (\r\n            <Fragment>\r\n                <Menu />\r\n                <MainContainer />\r\n            </Fragment>\r\n        )\r\n    \r\n}\r\n\r\nconst ContentContainer = () => {\r\n\r\n    const { toasts, modals } = useUiContext()\r\n\r\n\r\n    useEffect(() => {\r\n        //To init settings\r\n        \r\n    }, [])\r\n    return <ViewContainer />\r\n}\r\n\r\nexport { ContentContainer }\r\n","/*\r\n index.js - ESP3D WebUI App file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n Original code inspiration : 2021 Alexandre Aussourd\r\n \r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nimport { h } from \"preact\"\r\nimport {\r\n    RouterContextProvider,\r\n    UiContextProvider,\r\n    DatasContextProvider,\r\n} from \"../../contexts\"\r\nimport { ToastsContainer } from \"../Toast\"\r\nimport { Modal } from \"../Modal\"\r\nimport { ContentContainer } from \"../../areas\"\r\n\r\nconst App = () => {\r\n    return (\r\n        <div id=\"app\">\r\n            <DatasContextProvider>\r\n                    <RouterContextProvider>\r\n                        <UiContextProvider>\r\n                            <ToastsContainer />\r\n                            <Modal />\r\n                            <ContentContainer />\r\n                        </UiContextProvider>\r\n                    </RouterContextProvider>\r\n            </DatasContextProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { App }\r\n","/*\r\n index.js - ESP3D WebUI App file\r\n\r\n Copyright (c) 2020 Luc Lebosse. All rights reserved.\r\n\r\n This code is free software; you can redistribute it and/or\r\n modify it under the terms of the GNU Lesser General Public\r\n License as published by the Free Software Foundation; either\r\n version 2.1 of the License, or (at your option) any later version.\r\n\r\n This code is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public\r\n License along with This code; if not, write to the Free Software\r\n Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n*/\r\nif (process.env.NODE_ENV === \"development\") {\r\n    require(\"preact/debug\")\r\n}\r\nimport { h, render } from \"preact\"\r\nimport { App } from \"./components/App\"\r\nimport \"./style/index.scss\"\r\nrender(<App />, document.body)\r\n","","// startup\n// Load entry module and return exports\n// This entry module doesn't tell about it's top-level declarations so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[764]();\n",""],"names":["h","createContext","useContext","useState","useRef","RouterContext","useRouterContext","RouterContextProvider","children","defaultRoute","activeTab","activeRoute","setActiveRoute","current","routes","setRoutes","store","getCookie","cname","name","decodedCookie","decodeURIComponent","document","cookie","ca","split","i","length","c","charAt","substring","indexOf","espHttpURL","base","args","url","URL","error","window","location","host","Object","entries","forEach","key","value","searchParams","append","toString","isLimitedEnvironment","mode","sitesList","getBrowserTime","padNumber","num","size","s","padStart","d","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getColClasses","col","responsive","responsiveClasses","keys","reduce","acc","generateUID","Math","random","substr","createComponent","is","className","classModifier","Tag","class","id","props","splittedArgs","curr","includes","classes","classNames","join","trim","disableNode","node","state","nodeList","classList","contains","setAttribute","removeAttribute","disableUI","getElementById","capitalize","toUpperCase","slice","compareStrings","a","b","toLowerCase","formatFileSizeToString","formatedSize","parseInt","isNaN","units","toFixed","hslToHex","l","min","f","n","k","color","max","round","beautifyJSONString","jsonstring","JSON","stringify","parse","e","replaceVariables","arrayRef","string","reverted","replace","replaceAll","formatStatus","status","isFloat","Number","removeEntriesByIDs","src","uid","filter","limitArr","arr","limit","splitArrayByLines","arrayBuffer","bytes","Uint8Array","mergeJSON","o1","o2","tempNewObj","undefined","index","findIndex","element","push","Array","isArray","v","j","dispatchToExtensions","type","data","iframeList","querySelectorAll","contentWindow","postMessage","content","sortedFilesList","filesList","sort","filterResultFiles","files","path","folderList","p","startsWith","newpath","foldername","useEffect","useUiContextFn","UiContext","useUiContext","UiContextProvider","modals","setModal","toasts","setToasts","toastsRef","addToast","newToast","now","time","setNotifications","notificationsRef","clearNotifications","removeToast","uids","removedIds","addModal","newModal","getModalIndex","removeModal","modalIndex","newModalList","modal","clearModals","getValue","console","log","getElement","toastList","modalList","defaultConfiguration","useDatasContextFn","DatasContext","useDatasContext","DatasContextProvider","configuration","section","group","item","groupelement","getValueId","Id","settingsobject","subindex","subkey","modifiers","donotdisable","link","primary","success","lg","sm","xs","block","action","circle","active","disable","loading","tooltip","btooltip","ltooltip","rtooltip","mx2","m05","m2","m1","Button","ButtonImg","label","icon","iconRight","width","nomin","style","showlow","rest","Boolean","validation","depend","setValue","inline","inputCheckboxProps","checked","onChange","target","FormGroup","getValidationClass","valid","modified","message","LangRessourceBase","listLanguagePacks","baseLangRessource","currentLanguage","setCurrentLanguage","lang","T","ressourcelanguage","translatedText","getLanguageName","languagePack","showModal","title","button1","button2","hideclose","overlay","defaultCb1","haptic","noclose","cb","defaultCb2","footer","text","HelpCircle","showConfirmationModal","Info","showProgressModal","Modal","SpectreModal","map","modalSize","Eye","EyeOff","Search","ChevronDown","Reveal","applyTo","reveal","setReveal","clickReveal","Input","options","extra","help","button","disabled","step","inputref","onInput","blur","modalId","option","display","Fragment","useSettingsContext","Option","Select","optionList","LabelCtrl","PickUp","Field","large","Loading","small","Overlay","Container","Header","Body","Footer","warning","Toast","Close","Progress","progressBar","precision","progressValue","progressValueDisplay","calculationDone","prec","updateProgress","val","innerHTML","update","CenterLeft","bordered","FieldGroup","SpectreToast","timeout","remove","timer","setTimeout","clearTimeout","ToastsContainer","toast","AppLogo","height","bgcolor","useCallback","Router","routesList","localDefault","isLoading","setIsLoading","parseLocation","hash","protocol","href","pathname","localDefaultRoute","elements","values","defaultElement","find","ActiveComponent","setActiveComponent","component","handleHashChange","setActiveRouteAndComp","found","subLocation","prototype","hasOwnProperty","call","addEventListener","removeEventListener","Link","activeClassName","mergedClassName","setMergedClassName","route","Settings","defaultLinks","Navbar","Menu","Version","Github","About","open","ArrowLeft","ArrowRight","pinsList","usedPinsList","removeUsedPin","pin","addUsedPin","mergePinsOptions","pins","newList","getHelp","canshow","pinvalue","currentvalue","notvalue","NavButtons","previous","next","click","StepTab","generateValidation","fieldData","subelement","initial","optionsList","ispin","filteredOptions","opt","op","setHelp","description","setvalidation","usedescforoptions","header","Save","configurationFile","convertToText","sectionFormated","getLabel","config","acc2","item2","acc3","setting","disableiffalse","define","needquote","exportFile","filecontent","filename","file","Blob","navigator","msSaveOrOpenBlob","createElement","createObjectURL","download","body","appendChild","removeChild","revokeObjectURL","showconfig","targetfw","targetFwName","MARLIN","GRBL","REPETIER","SMOOTHIEWARE","targetsystem","GenerateTab","showContent","setshowContent","Camera","Download","HardDrive","Tool","Wifi","Lock","Upload","TabBar","uisettings","FEATURES","NETWORK","FILESYSTEMS","UPDATE","DEVICES","SECURITY","OTHERS","GENERATE","Config","FooterContainer","defRoutes","ABOUT","MainContainer","Layout","ViewContainer","ContentContainer","App","process","env","NODE_ENV","require","render"],"sourceRoot":""}